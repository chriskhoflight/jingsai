{"remainingRequest":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\babel-loader\\lib\\index.js!F:\\gitProject\\rcms_src\\rcms-pc-web\\src\\libs\\util.js","dependencies":[{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\src\\libs\\util.js","mtime":1564969187145},{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _index = require(\"@/api/index\");\n\nvar _lazyLoading = _interopRequireDefault(require(\"./lazyLoading.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"@/router/index\"));\n\nvar _jsCookie = _interopRequireDefault(require(\"js-cookie\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar util = {};\n\nutil.title = function (title) {\n  title = title; // window.document.title = title;\n};\n\nutil.inOf = function (arr, targetArr) {\n  var res = true;\n  arr.forEach(function (item) {\n    if (targetArr.indexOf(item) < 0) {\n      res = false;\n    }\n  });\n  return res;\n};\n\nutil.oneOf = function (ele, targetArr) {\n  if (targetArr.indexOf(ele) >= 0) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nutil.getRouterObjByName = function (routers, name) {\n  if (!name || !routers || !routers.length) {\n    return null;\n  }\n\n  var routerObj = null;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = routers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var item = _step.value;\n\n      if (item.name === name) {\n        return item;\n      }\n\n      routerObj = util.getRouterObjByName(item.children, name);\n\n      if (routerObj) {\n        return routerObj;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return null;\n};\n\nutil.handleTitle = function (vm, item) {\n  if (_typeof(item.title) === 'object') {\n    return vm.$t(item.title.i18n);\n  } else {\n    return item.title;\n  }\n};\n\nutil.setCurrentPath = function (vm, name) {\n  var title = '';\n  var isOtherRouter = false;\n  vm.$store.state.app.routers.forEach(function (item) {\n    if (item.children.length >= 1) {\n      title = util.handleTitle(vm, item.children[0]);\n\n      if (item.name === 'otherRouter') {\n        isOtherRouter = true;\n      }\n    } else if (item.children.length === 1) {\n      if (item.children[0].name === name) {\n        title = util.handleTitle(vm, item);\n\n        if (item.name === 'otherRouter') {\n          isOtherRouter = true;\n        }\n      }\n    } else {\n      item.children.forEach(function (child) {\n        if (child.name === name) {\n          title = util.handleTitle(vm, child);\n\n          if (item.name === 'otherRouter') {\n            isOtherRouter = true;\n          }\n        }\n      });\n    }\n  });\n  var currentPathArr = [];\n\n  if (name === 'home_index') {\n    currentPathArr = [{\n      title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\n      path: '',\n      name: 'home_index'\n    }];\n  } else if ((name.indexOf('_index') >= 0 || isOtherRouter) && name !== 'home_index') {\n    currentPathArr = [{\n      title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\n      path: '/home',\n      name: 'home_index'\n    }, {\n      title: title,\n      path: '',\n      name: name\n    }];\n  } else {\n    var currentPathObj = vm.$store.state.app.routers.filter(function (item) {\n      if (item.children.length >= 1) {\n        return true;\n      } else if (item.children.length <= 1) {\n        return item.children[0].name === name;\n      } else {\n        var i = 0;\n        var childArr = item.children;\n        var len = childArr.length;\n\n        while (i < len) {\n          if (childArr[i].name === name) {\n            return true;\n          }\n\n          i++;\n        }\n\n        return false;\n      }\n    })[0];\n\n    if (currentPathObj.children.length <= 1 && currentPathObj.name === 'home') {\n      currentPathArr = [{\n        title: '首页',\n        path: '',\n        name: 'home_index'\n      }];\n    } else if (currentPathObj.children.length <= 1 && currentPathObj.name !== 'home') {\n      currentPathArr = [{\n        title: '首页',\n        path: '/home',\n        name: 'home_index'\n      }, {\n        title: currentPathObj.title,\n        path: '',\n        name: name\n      }];\n    } else {\n      var childObj = currentPathObj.children.filter(function (child) {\n        return child.name === name;\n      })[0];\n      currentPathArr = [{\n        title: '首页',\n        path: '/home',\n        name: 'home_index'\n      }, {\n        title: currentPathObj.title,\n        path: '',\n        name: currentPathObj.name\n      }, {\n        title: childObj.title,\n        path: currentPathObj.path + '/' + childObj.path,\n        name: name\n      }];\n    }\n  }\n\n  vm.$store.commit('setCurrentPath', currentPathArr);\n  return currentPathArr;\n};\n\nutil.openNewPage = function (vm, name, argu, query) {\n  var pageOpenedList = vm.$store.state.app.pageOpenedList;\n  var openedPageLen = pageOpenedList.length;\n  var i = 0;\n  var tagHasOpened = false;\n\n  while (i < openedPageLen) {\n    if (name === pageOpenedList[i].name) {\n      // 页面已经打开\n      vm.$store.commit('pageOpenedList', {\n        index: i,\n        argu: argu,\n        query: query\n      });\n      tagHasOpened = true;\n      break;\n    }\n\n    i++;\n  }\n\n  if (!tagHasOpened) {\n    var tag = vm.$store.state.app.tagsList.filter(function (item) {\n      if (item.children && item.children.length > 0) {\n        return name === item.children[0].name;\n      } else {\n        return name === item.name;\n      }\n    });\n    tag = tag[0];\n\n    if (tag) {\n      tag = tag.children ? tag.children[0] : tag;\n\n      if (argu) {\n        tag.argu = argu;\n      }\n\n      if (query) {\n        tag.query = query;\n      }\n\n      vm.$store.commit('increateTag', tag);\n    }\n  }\n\n  vm.$store.commit('setCurrentPageName', name);\n};\n\nutil.toDefaultPage = function (routers, name, route, next) {\n  var len = routers.length;\n  var i = 0;\n  var notHandle = true;\n\n  while (i < len) {\n    if (routers[i].name === name && routers[i].children && routers[i].redirect === undefined) {\n      route.replace({\n        name: routers[i].children[0].name\n      });\n      notHandle = false;\n      next();\n      break;\n    }\n\n    i++;\n  }\n\n  if (notHandle) {\n    next();\n  }\n};\n\nutil.fullscreenEvent = function (vm) {\n  vm.$store.commit('initCachepage');\n};\n\nutil.initRouter = function (vm) {\n  var constRoutes = [];\n  var otherRoutes = []; // 404路由需要和动态路由一起注入\n\n  var otherRouter = [{\n    path: '/*',\n    name: 'error-404',\n    meta: {\n      title: '404-页面不存在'\n    },\n    component: 'error-page/404'\n  }]; // 判断用户是否登录\n\n  var userInfo = _jsCookie.default.get('userInfo');\n\n  if (userInfo === null || userInfo === \"\" || userInfo === undefined) {\n    // 未登录\n    return;\n  }\n\n  var accessToken = window.localStorage.getItem('accessToken'); // 加载菜单\n\n  _axios.default.get(_index.getMenuList, {\n    headers: {\n      'accessToken': accessToken\n    }\n  }).then(function (res) {\n    var menuData = res.result;\n\n    if (menuData === null || menuData === \"\" || menuData === undefined) {\n      return;\n    }\n\n    util.initRouterNode(constRoutes, menuData);\n    util.initRouterNode(otherRoutes, otherRouter); // 添加主界面路由\n\n    vm.$store.commit('updateAppRouter', constRoutes.filter(function (item) {\n      return item.children.length > 0;\n    })); // 添加全局路由\n\n    vm.$store.commit('updateDefaultRouter', otherRoutes); // 刷新界面菜单\n\n    vm.$store.commit('updateMenulist', constRoutes.filter(function (item) {\n      return item.children.length > 0;\n    }));\n    var tagsList = [];\n    vm.$store.state.app.routers.map(function (item) {\n      if (item.children.length <= 1) {\n        tagsList.push(item.children[0]);\n      } else {\n        tagsList.push.apply(tagsList, _toConsumableArray(item.children));\n      }\n    });\n    vm.$store.commit('setTagsList', tagsList);\n  });\n}; // 生成路由节点\n\n\nutil.initRouterNode = function (routers, data) {\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = data[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var item = _step2.value;\n      var menu = Object.assign({}, item); //主键是Main时，布局为左右布局，导航只显示父级，隐藏子级。\n\n      if ('Main' === menu.component && (null == menu.parentId || \"\" == menu.parentId)) {\n        menu.hideChild = true;\n      } // menu.component = import(`@/views/${menu.component}.vue`);\n\n\n      menu.component = (0, _lazyLoading.default)(menu.component);\n\n      if (item.children && item.children.length > 0) {\n        menu.children = [];\n        util.initRouterNode(menu.children, item.children);\n      }\n\n      if (null == menu.meta) {\n        var meta = {}; // 给页面添加权限、标题、第三方网页链接\n\n        meta.permTypes = menu.permTypes ? menu.permTypes : null;\n        meta.title = menu.title ? menu.title : null;\n        meta.url = menu.url ? menu.url : null;\n        menu.meta = meta;\n      } //菜单是否隐藏 是否隐藏 0是 -1否\n\n\n      if (0 === menu.isHidden) {\n        menu.hidden = true;\n      } // console.log(menu);\n\n\n      routers.push(menu);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n}; //根据导航获取对应节点菜单列表\n\n\nutil.getMenusByPath = function (menuList, path) {\n  var result = []; //var ppath = path.substr(0,path.indexOf('/',path.indexOf('/')+1));\n\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = menuList[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var item = _step3.value;\n\n      if (path.indexOf(item.path) >= 0) {\n        //result.push(item);\n        //debugger;\n        result = item.children;\n        return result;\n      }\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return result;\n};\n\nvar _default = util;\nexports.default = _default;",{"version":3,"sources":["F:\\gitProject\\rcms_src\\rcms-pc-web\\src\\libs\\util.js"],"names":["util","title","inOf","arr","targetArr","res","forEach","item","indexOf","oneOf","ele","getRouterObjByName","routers","name","length","routerObj","children","handleTitle","vm","$t","i18n","setCurrentPath","isOtherRouter","$store","state","app","child","currentPathArr","path","currentPathObj","filter","i","childArr","len","childObj","commit","openNewPage","argu","query","pageOpenedList","openedPageLen","tagHasOpened","index","tag","tagsList","toDefaultPage","route","next","notHandle","redirect","undefined","replace","fullscreenEvent","initRouter","constRoutes","otherRoutes","otherRouter","meta","component","userInfo","Cookies","get","accessToken","window","localStorage","getItem","axios","getMenuList","headers","then","menuData","result","initRouterNode","map","push","data","menu","Object","assign","parentId","hideChild","permTypes","url","isHidden","hidden","getMenusByPath","menuList"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { getMenuList } from '@/api/index';\r\nimport lazyLoading from './lazyLoading.js';\r\nimport router from '@/router/index';\r\nimport Cookies from \"js-cookie\";\r\n\r\nlet util = {\r\n\r\n};\r\n\r\nutil.title = function (title) {\r\n    title = title;\r\n    // window.document.title = title;\r\n};\r\n\r\nutil.inOf = function (arr, targetArr) {\r\n    let res = true;\r\n    arr.forEach(item => {\r\n        if (targetArr.indexOf(item) < 0) {\r\n            res = false;\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\nutil.oneOf = function (ele, targetArr) {\r\n    if (targetArr.indexOf(ele) >= 0) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\nutil.getRouterObjByName = function (routers, name) {\r\n    if (!name || !routers || !routers.length) {\r\n        return null;\r\n    }\r\n    let routerObj = null;\r\n    for (let item of routers) {\r\n        if (item.name === name) {\r\n            return item;\r\n        }\r\n        routerObj = util.getRouterObjByName(item.children, name);\r\n        if (routerObj) {\r\n            return routerObj;\r\n        }\r\n    }\r\n    return null;\r\n};\r\n\r\nutil.handleTitle = function (vm, item) {\r\n    if (typeof item.title === 'object') {\r\n        return vm.$t(item.title.i18n);\r\n    } else {\r\n        return item.title;\r\n    }\r\n};\r\n\r\nutil.setCurrentPath = function (vm, name) {\r\n    let title = '';\r\n    let isOtherRouter = false;\r\n    vm.$store.state.app.routers.forEach(item => {\r\n        if(item.children.length >= 1){\r\n            title = util.handleTitle(vm, item.children[0]);\r\n            if (item.name === 'otherRouter') {\r\n                isOtherRouter = true;\r\n            }\r\n        }\r\n        else if (item.children.length === 1) {\r\n            if (item.children[0].name === name) {\r\n                title = util.handleTitle(vm, item);\r\n                if (item.name === 'otherRouter') {\r\n                    isOtherRouter = true;\r\n                }\r\n            }\r\n        } else {\r\n            item.children.forEach(child => {\r\n                if (child.name === name) {\r\n                    title = util.handleTitle(vm, child);\r\n                    if (item.name === 'otherRouter') {\r\n                        isOtherRouter = true;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    let currentPathArr = [];\r\n    if (name === 'home_index') {\r\n        currentPathArr = [\r\n            {\r\n                title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\r\n                path: '',\r\n                name: 'home_index'\r\n            }\r\n        ];\r\n    } else if ((name.indexOf('_index') >= 0 || isOtherRouter) && name !== 'home_index') {\r\n        currentPathArr = [\r\n            {\r\n                title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\r\n                path: '/home',\r\n                name: 'home_index'\r\n            },\r\n            {\r\n                title: title,\r\n                path: '',\r\n                name: name\r\n            }\r\n        ];\r\n    } else {\r\n        let currentPathObj = vm.$store.state.app.routers.filter(item => {\r\n            if(item.children.length >= 1){\r\n                return true;\r\n            }\r\n            else if (item.children.length <= 1) {\r\n                return item.children[0].name === name;\r\n            } else {\r\n                let i = 0;\r\n                let childArr = item.children;\r\n                let len = childArr.length;\r\n                while (i < len) {\r\n                    if (childArr[i].name === name) {\r\n                        return true;\r\n                    }\r\n                    i++;\r\n                }\r\n                return false;\r\n            }\r\n        })[0];\r\n        if (currentPathObj.children.length <= 1 && currentPathObj.name === 'home') {\r\n            currentPathArr = [\r\n                {\r\n                    title: '首页',\r\n                    path: '',\r\n                    name: 'home_index'\r\n                }\r\n            ];\r\n        } else if (currentPathObj.children.length <= 1 && currentPathObj.name !== 'home') {\r\n            currentPathArr = [\r\n                {\r\n                    title: '首页',\r\n                    path: '/home',\r\n                    name: 'home_index'\r\n                },\r\n                {\r\n                    title: currentPathObj.title,\r\n                    path: '',\r\n                    name: name\r\n                }\r\n            ];\r\n        } \r\n        else {\r\n            let childObj = currentPathObj.children.filter((child) => {\r\n                return child.name === name;\r\n            })[0];\r\n            currentPathArr = [\r\n                {\r\n                    title: '首页',\r\n                    path: '/home',\r\n                    name: 'home_index'\r\n                },\r\n                {\r\n                    title: currentPathObj.title,\r\n                    path: '',\r\n                    name: currentPathObj.name\r\n                },\r\n                {\r\n                    title: childObj.title,\r\n                    path: currentPathObj.path + '/' + childObj.path,\r\n                    name: name\r\n                }\r\n            ];\r\n        }\r\n    }\r\n    vm.$store.commit('setCurrentPath', currentPathArr);\r\n\r\n    return currentPathArr;\r\n};\r\n\r\nutil.openNewPage = function (vm, name, argu, query) {\r\n    let pageOpenedList = vm.$store.state.app.pageOpenedList;\r\n    let openedPageLen = pageOpenedList.length;\r\n    let i = 0;\r\n    let tagHasOpened = false;\r\n    while (i < openedPageLen) {\r\n        if (name === pageOpenedList[i].name) { // 页面已经打开\r\n            vm.$store.commit('pageOpenedList', {\r\n                index: i,\r\n                argu: argu,\r\n                query: query\r\n            });\r\n            tagHasOpened = true;\r\n            break;\r\n        }\r\n        i++;\r\n    }\r\n    if (!tagHasOpened) {\r\n        let tag = vm.$store.state.app.tagsList.filter((item) => {\r\n            if (item.children && item.children.length > 0) {\r\n                return name === item.children[0].name;\r\n            } else {\r\n                return name === item.name;\r\n            }\r\n        });\r\n        tag = tag[0];\r\n        if (tag) {\r\n            tag = tag.children ? tag.children[0] : tag;\r\n            if (argu) {\r\n                tag.argu = argu;\r\n            }\r\n            if (query) {\r\n                tag.query = query;\r\n            }\r\n            vm.$store.commit('increateTag', tag);\r\n        }\r\n    }\r\n    vm.$store.commit('setCurrentPageName', name);\r\n};\r\n\r\nutil.toDefaultPage = function (routers, name, route, next) {\r\n    let len = routers.length;\r\n    let i = 0;\r\n    let notHandle = true;\r\n    while (i < len) {\r\n        if (routers[i].name === name && routers[i].children && routers[i].redirect === undefined) {\r\n            route.replace({\r\n                name: routers[i].children[0].name\r\n            });\r\n            notHandle = false;\r\n            next();\r\n            break;\r\n        }\r\n        i++;\r\n    }\r\n    if (notHandle) {\r\n        next();\r\n    }\r\n};\r\n\r\nutil.fullscreenEvent = function (vm) {\r\n    vm.$store.commit('initCachepage');\r\n};\r\n\r\nutil.initRouter = function (vm) {\r\n    const constRoutes = [];\r\n    const otherRoutes = [];\r\n    // 404路由需要和动态路由一起注入\r\n    const otherRouter = [{\r\n        path: '/*',\r\n        name: 'error-404',\r\n        meta: {\r\n            title: '404-页面不存在'\r\n        },\r\n        component: 'error-page/404'\r\n    }];\r\n    // 判断用户是否登录\r\n    let userInfo = Cookies.get('userInfo')\r\n    if (userInfo === null || userInfo === \"\" || userInfo === undefined) {\r\n        // 未登录\r\n        return;\r\n    }\r\n    let accessToken = window.localStorage.getItem('accessToken')\r\n    // 加载菜单\r\n    axios.get(getMenuList, {headers: {'accessToken': accessToken}}).then(res => {\r\n        let menuData = res.result;\r\n        if (menuData === null || menuData === \"\" || menuData === undefined) {\r\n            return;\r\n        }\r\n        util.initRouterNode(constRoutes, menuData);\r\n        util.initRouterNode(otherRoutes, otherRouter);\r\n        // 添加主界面路由\r\n        vm.$store.commit('updateAppRouter', constRoutes.filter(item => item.children.length > 0));\r\n        // 添加全局路由\r\n        vm.$store.commit('updateDefaultRouter', otherRoutes);\r\n        // 刷新界面菜单\r\n        vm.$store.commit('updateMenulist', constRoutes.filter(item => item.children.length > 0));\r\n\r\n        let tagsList = [];\r\n        vm.$store.state.app.routers.map((item) => {\r\n            if (item.children.length <= 1) {\r\n                tagsList.push(item.children[0]);\r\n            } else {\r\n                tagsList.push(...item.children);\r\n            }\r\n        });\r\n        vm.$store.commit('setTagsList', tagsList);\r\n    });\r\n};\r\n\r\n// 生成路由节点\r\nutil.initRouterNode = function (routers, data) {\r\n    for (var item of data) {\r\n        let menu = Object.assign({}, item);\r\n        //主键是Main时，布局为左右布局，导航只显示父级，隐藏子级。\r\n        if('Main' === menu.component && (null == menu.parentId || \"\" == menu.parentId)){\r\n            menu.hideChild = true;\r\n        }\r\n        // menu.component = import(`@/views/${menu.component}.vue`);\r\n        menu.component = lazyLoading(menu.component);\r\n\r\n        if (item.children && item.children.length > 0) {\r\n            menu.children = [];\r\n            util.initRouterNode(menu.children, item.children);\r\n        }\r\n\r\n        if(null == menu.meta){\r\n            let meta = {};\r\n            // 给页面添加权限、标题、第三方网页链接\r\n            meta.permTypes = menu.permTypes ? menu.permTypes : null;\r\n            meta.title = menu.title ? menu.title : null;\r\n            meta.url = menu.url ? menu.url : null;\r\n            menu.meta = meta;\r\n        }\r\n        //菜单是否隐藏 是否隐藏 0是 -1否\r\n        if(0 === menu.isHidden){\r\n            menu.hidden = true;\r\n        }\r\n        // console.log(menu);\r\n        routers.push(menu);\r\n    }\r\n};\r\n\r\n//根据导航获取对应节点菜单列表\r\nutil.getMenusByPath = function (menuList, path) {\r\n    var result = [];\r\n    //var ppath = path.substr(0,path.indexOf('/',path.indexOf('/')+1));\r\n    for (let item of menuList) {\r\n        if (path.indexOf(item.path)  >= 0) {\r\n            //result.push(item);\r\n            //debugger;\r\n            result = item.children;\r\n            return result;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport default util;\r\n"]}]}