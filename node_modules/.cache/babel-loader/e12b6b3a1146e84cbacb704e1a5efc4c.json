{"remainingRequest":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\babel-loader\\lib\\index.js!F:\\gitProject\\rcms_src\\rcms-pc-web\\src\\router\\index.js","dependencies":[{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\src\\router\\index.js","mtime":1564969515784},{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.router = void 0;\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nvar _iview = _interopRequireDefault(require(\"iview\"));\n\nvar _util = _interopRequireDefault(require(\"../libs/util\"));\n\nvar _vueRouter = _interopRequireDefault(require(\"vue-router\"));\n\nvar _jsCookie = _interopRequireDefault(require(\"js-cookie\"));\n\nvar _router = require(\"./router\");\n\nvar _store = _interopRequireDefault(require(\"../store\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n_vue.default.use(_vueRouter.default); // 路由配置\n\n\nvar RouterConfig = {\n  // mode: 'history',\n  routes: _router.routers\n};\nvar router = new _vueRouter.default(RouterConfig);\nexports.router = router;\nrouter.beforeEach(function (to, from, next) {\n  _iview.default.LoadingBar.start();\n\n  _util.default.title(to.meta.title);\n\n  if (_jsCookie.default.get('locking') === '1' && to.name !== 'locking') {\n    // 判断当前是否是锁定状态\n    next({\n      replace: true,\n      name: 'locking'\n    });\n  } else if (_jsCookie.default.get('locking') === '0' && to.name === 'locking') {\n    next(false);\n  } else {\n    if (to.name !== 'wxSeeContent' && !_jsCookie.default.get('userInfo') && to.name !== 'login' && to.name !== 'regist' && to.name !== 'regist-result' && to.name !== 'relate') {\n      // 判断是否已经登录且前往的页面不是登录页\n      next({\n        name: 'login'\n      });\n    } else if (to.name !== 'wxSeeContent' && !_jsCookie.default.get('userInfo') && to.name !== 'login' && to.name !== 'regist' && to.name !== 'regist-result' && to.name !== 'relate' && to.name === 'wxSeeContent') {\n      next({\n        // gxr手动添加公众号不用登录可以访问的页面\n        name: 'wxSeeContent ' // name: 'login '\n\n      });\n    } else if (_jsCookie.default.get('userInfo') && to.name === 'login') {\n      // 判断是否已经登录且前往的是登录页\n      _util.default.title();\n\n      next({\n        name: 'home_index'\n      });\n    } else {\n      _util.default.toDefaultPage(_toConsumableArray(_router.routers), to.name, router, next);\n    }\n  }\n});\nrouter.afterEach(function (to) {\n  _util.default.openNewPage(router.app, to.name, to.params, to.query);\n\n  _iview.default.LoadingBar.finish();\n\n  window.scrollTo(0, 0);\n});",{"version":3,"sources":["F:\\gitProject\\rcms_src\\rcms-pc-web\\src\\router\\index.js"],"names":["Vue","use","VueRouter","RouterConfig","routes","routers","router","beforeEach","to","from","next","iView","LoadingBar","start","Util","title","meta","Cookies","get","name","replace","toDefaultPage","afterEach","openNewPage","app","params","query","finish","window","scrollTo"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;AAEAA,aAAIC,GAAJ,CAAQC,kBAAR,E,CAEA;;;AACA,IAAMC,YAAY,GAAG;AACjB;AACAC,EAAAA,MAAM,EAAEC;AAFS,CAArB;AAKO,IAAMC,MAAM,GAAG,IAAIJ,kBAAJ,CAAcC,YAAd,CAAf;;AAEPG,MAAM,CAACC,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClCC,iBAAMC,UAAN,CAAiBC,KAAjB;;AACAC,gBAAKC,KAAL,CAAWP,EAAE,CAACQ,IAAH,CAAQD,KAAnB;;AACA,MAAIE,kBAAQC,GAAR,CAAY,SAAZ,MAA2B,GAA3B,IAAkCV,EAAE,CAACW,IAAH,KAAY,SAAlD,EAA6D;AACzD;AACAT,IAAAA,IAAI,CAAC;AACDU,MAAAA,OAAO,EAAE,IADR;AAEDD,MAAAA,IAAI,EAAE;AAFL,KAAD,CAAJ;AAIH,GAND,MAMO,IAAIF,kBAAQC,GAAR,CAAY,SAAZ,MAA2B,GAA3B,IAAkCV,EAAE,CAACW,IAAH,KAAY,SAAlD,EAA6D;AAChET,IAAAA,IAAI,CAAC,KAAD,CAAJ;AACH,GAFM,MAEA;AACH,QAAIF,EAAE,CAACW,IAAH,KAAY,cAAZ,IAA8B,CAACF,kBAAQC,GAAR,CAAY,UAAZ,CAA/B,IAA0DV,EAAE,CAACW,IAAH,KAAY,OAAtE,IAAiFX,EAAE,CAACW,IAAH,KAAY,QAA7F,IAAyGX,EAAE,CAACW,IAAH,KAAY,eAArH,IAAwIX,EAAE,CAACW,IAAH,KAAY,QAAxJ,EAAkK;AAAE;AAChKT,MAAAA,IAAI,CAAC;AACDS,QAAAA,IAAI,EAAE;AADL,OAAD,CAAJ;AAGH,KAJD,MAIO,IAAIX,EAAE,CAACW,IAAH,KAAY,cAAZ,IAA8B,CAACF,kBAAQC,GAAR,CAAY,UAAZ,CAA/B,IAA0DV,EAAE,CAACW,IAAH,KAAY,OAAtE,IAAiFX,EAAE,CAACW,IAAH,KAAY,QAA7F,IAAyGX,EAAE,CAACW,IAAH,KAAY,eAArH,IAAwIX,EAAE,CAACW,IAAH,KAAY,QAApJ,IAA+JX,EAAE,CAACW,IAAH,KAAY,cAA/K,EAA+L;AAClMT,MAAAA,IAAI,CAAC;AACD;AACAS,QAAAA,IAAI,EAAE,eAFL,CAGD;;AAHC,OAAD,CAAJ;AAKH,KANM,MAMA,IAAIF,kBAAQC,GAAR,CAAY,UAAZ,KAA2BV,EAAE,CAACW,IAAH,KAAY,OAA3C,EAAoD;AACvD;AACAL,oBAAKC,KAAL;;AACAL,MAAAA,IAAI,CAAC;AACDS,QAAAA,IAAI,EAAE;AADL,OAAD,CAAJ;AAGH,KANM,MAMA;AACHL,oBAAKO,aAAL,oBAAuBhB,eAAvB,GAAiCG,EAAE,CAACW,IAApC,EAA0Cb,MAA1C,EAAkDI,IAAlD;AACH;AACJ;AACJ,CAhCD;AAkCAJ,MAAM,CAACgB,SAAP,CAAiB,UAACd,EAAD,EAAQ;AACrBM,gBAAKS,WAAL,CAAiBjB,MAAM,CAACkB,GAAxB,EAA6BhB,EAAE,CAACW,IAAhC,EAAsCX,EAAE,CAACiB,MAAzC,EAAiDjB,EAAE,CAACkB,KAApD;;AACAf,iBAAMC,UAAN,CAAiBe,MAAjB;;AACAC,EAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACH,CAJD","sourcesContent":["import Vue from 'vue';\r\nimport iView from 'iview';\r\nimport Util from '../libs/util';\r\nimport VueRouter from 'vue-router';\r\nimport Cookies from 'js-cookie';\r\nimport { routers, otherRouter } from './router';\r\nimport store from '../store';\r\n\r\nVue.use(VueRouter);\r\n\r\n// 路由配置\r\nconst RouterConfig = {\r\n    // mode: 'history',\r\n    routes: routers\r\n};\r\n\r\nexport const router = new VueRouter(RouterConfig);\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    iView.LoadingBar.start();\r\n    Util.title(to.meta.title);\r\n    if (Cookies.get('locking') === '1' && to.name !== 'locking') {\r\n        // 判断当前是否是锁定状态\r\n        next({\r\n            replace: true,\r\n            name: 'locking'\r\n        });\r\n    } else if (Cookies.get('locking') === '0' && to.name === 'locking') {\r\n        next(false);\r\n    } else {\r\n        if (to.name !== 'wxSeeContent' && !Cookies.get('userInfo') && to.name !== 'login' && to.name !== 'regist' && to.name !== 'regist-result' && to.name !== 'relate') { // 判断是否已经登录且前往的页面不是登录页\r\n            next({\r\n                name: 'login'\r\n            });\r\n        } else if (to.name !== 'wxSeeContent' && !Cookies.get('userInfo') && to.name !== 'login' && to.name !== 'regist' && to.name !== 'regist-result' && to.name !== 'relate'&& to.name === 'wxSeeContent') {\r\n            next({\r\n                // gxr手动添加公众号不用登录可以访问的页面\r\n                name: 'wxSeeContent '\r\n                // name: 'login '\r\n            });\r\n        } else if (Cookies.get('userInfo') && to.name === 'login') {\r\n            // 判断是否已经登录且前往的是登录页\r\n            Util.title();\r\n            next({\r\n                name: 'home_index'\r\n            });\r\n        } else {\r\n            Util.toDefaultPage([...routers], to.name, router, next);\r\n        }\r\n    }\r\n});\r\n\r\nrouter.afterEach((to) => {\r\n    Util.openNewPage(router.app, to.name, to.params, to.query);\r\n    iView.LoadingBar.finish();\r\n    window.scrollTo(0, 0);\r\n});\r\n"]}]}