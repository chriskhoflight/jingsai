{"remainingRequest":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\babel-loader\\lib\\index.js!F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\gitProject\\rcms_src\\rcms-pc-web\\src\\views\\components\\tags-page-opened.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\src\\views\\components\\tags-page-opened.vue","mtime":1564969187189},{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nvar _vueI18n = _interopRequireDefault(require(\"vue-i18n\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n_vue.default.use(_vueI18n.default);\n\nvar _default2 = {\n  name: \"tagsPageOpened\",\n  data: function data() {\n    return {\n      currentPageName: this.$route.name,\n      tagBodyLeft: 0,\n      refsTag: [],\n      tagsCount: 1\n    };\n  },\n  props: {\n    pageTagsList: Array,\n    beforePush: {\n      type: Function,\n      default: function _default(item) {\n        return true;\n      }\n    }\n  },\n  computed: {\n    title: function title() {\n      return this.$store.state.app.currentTitle;\n    },\n    tagsList: function tagsList() {\n      return this.$store.state.app.pageOpenedList;\n    }\n  },\n  methods: {\n    itemTitle: function itemTitle(item) {\n      if (_typeof(item.title) === \"object\") {\n        return this.$t(item.title.i18n);\n      } else {\n        return item.title;\n      }\n    },\n    closePage: function closePage(event, name) {\n      var pageOpenedList = this.$store.state.app.pageOpenedList;\n      var lastPageObj = pageOpenedList[0];\n\n      if (this.currentPageName === name) {\n        var len = pageOpenedList.length;\n\n        for (var i = 1; i < len; i++) {\n          if (pageOpenedList[i].name === name) {\n            if (i < len - 1) {\n              lastPageObj = pageOpenedList[i + 1];\n            } else {\n              lastPageObj = pageOpenedList[i - 1];\n            }\n\n            break;\n          }\n        }\n      } else {\n        var tagWidth = event.target.parentNode.offsetWidth;\n        this.tagBodyLeft = Math.min(this.tagBodyLeft + tagWidth, 0);\n      }\n\n      this.$store.commit(\"removeTag\", name);\n      this.$store.commit(\"closePage\", name);\n      pageOpenedList = this.$store.state.app.pageOpenedList;\n      localStorage.pageOpenedList = JSON.stringify(pageOpenedList);\n\n      if (this.currentPageName === name) {\n        this.linkTo(lastPageObj);\n      }\n    },\n    linkTo: function linkTo(item) {\n      var routerObj = {};\n      routerObj.name = item.name;\n\n      if (item.argu) {\n        routerObj.params = item.argu;\n      }\n\n      if (item.query) {\n        routerObj.query = item.query;\n      }\n\n      if (this.beforePush(item)) {\n        this.$router.push(routerObj);\n      }\n    },\n    handlescroll: function handlescroll(e) {\n      var type = e.type;\n      var delta = 0;\n\n      if (type === \"DOMMouseScroll\" || type === \"mousewheel\") {\n        delta = e.wheelDelta ? e.wheelDelta : -(e.detail || 0) * 40;\n      }\n\n      var left = 0;\n\n      if (delta > 0) {\n        left = Math.min(0, this.tagBodyLeft + delta);\n      } else {\n        if (this.$refs.scrollCon.offsetWidth - 100 < this.$refs.scrollBody.offsetWidth) {\n          if (this.tagBodyLeft < -(this.$refs.scrollBody.offsetWidth - this.$refs.scrollCon.offsetWidth + 100)) {\n            left = this.tagBodyLeft;\n          } else {\n            left = Math.max(this.tagBodyLeft + delta, this.$refs.scrollCon.offsetWidth - this.$refs.scrollBody.offsetWidth - 100);\n          }\n        } else {\n          this.tagBodyLeft = 0;\n        }\n      }\n\n      this.tagBodyLeft = left;\n    },\n    handleTagsOption: function handleTagsOption(type) {\n      if (type === \"clearAll\") {\n        this.$store.commit(\"clearAllTags\");\n        this.$router.push({\n          name: \"home_index\"\n        });\n      } else {\n        this.$store.commit(\"clearOtherTags\", this);\n      }\n\n      this.tagBodyLeft = 0;\n    },\n    moveToView: function moveToView(tag) {\n      if (tag.offsetLeft < -this.tagBodyLeft) {\n        // 标签在可视区域左侧\n        this.tagBodyLeft = -tag.offsetLeft + 10;\n      } else if (tag.offsetLeft + 10 > -this.tagBodyLeft && tag.offsetLeft + tag.offsetWidth < -this.tagBodyLeft + this.$refs.scrollCon.offsetWidth - 100) {\n        // 标签在可视区域\n        this.tagBodyLeft = Math.min(0, this.$refs.scrollCon.offsetWidth - 100 - tag.offsetWidth - tag.offsetLeft - 20);\n      } else {\n        // 标签在可视区域右侧\n        this.tagBodyLeft = -(tag.offsetLeft - (this.$refs.scrollCon.offsetWidth - 100 - tag.offsetWidth) + 20);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.refsTag = this.$refs.tagsPageOpened;\n    setTimeout(function () {\n      _this.refsTag.forEach(function (item, index) {\n        if (_this.$route.name === item.name) {\n          var tag = _this.refsTag[index].$el;\n\n          _this.moveToView(tag);\n        }\n      });\n    }, 1); // 这里不设定时器就会有偏移bug\n\n    this.tagsCount = this.tagsList.length;\n  },\n  watch: {\n    $route: function $route(to) {\n      var _this2 = this;\n\n      this.currentPageName = to.name;\n      this.$nextTick(function () {\n        _this2.refsTag.forEach(function (item, index) {\n          if (to.name === item.name) {\n            var tag = _this2.refsTag[index].$el;\n\n            _this2.moveToView(tag);\n          }\n        });\n      });\n      this.tagsCount = this.tagsList.length;\n    }\n  }\n};\nexports.default = _default2;",{"version":3,"sources":["tags-page-opened.vue"],"names":[],"mappings":"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","sourcesContent":["<style lang=\"less\">\r\n@import \"../main.less\";\r\n</style>\r\n\r\n<template>\r\n    <div ref=\"scrollCon\" @DOMMouseScroll=\"handlescroll\" @mousewheel=\"handlescroll\" class=\"tags-outer-scroll-con\">\r\n        <div class=\"close-all-tag-con\">\r\n            <Dropdown transfer @on-click=\"handleTagsOption\">\r\n                <Button size=\"small\" type=\"primary\">\r\n                        {{ $t('tagOption') }}\r\n                        <Icon type=\"md-arrow-dropdown\"></Icon>\r\n                    </Button>\r\n                <DropdownMenu slot=\"list\">\r\n                    <DropdownItem name=\"clearAll\">{{ $t('closeAll') }}</DropdownItem>\r\n                    <DropdownItem name=\"clearOthers\">{{ $t('closeOthers') }}</DropdownItem>\r\n                </DropdownMenu>\r\n            </Dropdown>\r\n        </div>\r\n        <div ref=\"scrollBody\" class=\"tags-inner-scroll-body\" :style=\"{left: tagBodyLeft + 'px'}\">\r\n            <transition-group name=\"taglist-moving-animation\">\r\n                <Tag type=\"dot\" v-for=\"(item, index) in pageTagsList\" ref=\"tagsPageOpened\" :key=\"item.name\" :name=\"item.name\" @on-close=\"closePage\" @click.native=\"linkTo(item)\" :closable=\"item.name==='home_index'?false:true\" :color=\"item.children?(item.children[0].name===currentPageName?'primary':'default'):(item.name===currentPageName?'primary':'default')\">{{ itemTitle(item) }}</Tag>\r\n            </transition-group>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport VueI18n from \"vue-i18n\";\r\nVue.use(VueI18n);\r\nexport default {\r\n  name: \"tagsPageOpened\",\r\n  data() {\r\n    return {\r\n      currentPageName: this.$route.name,\r\n      tagBodyLeft: 0,\r\n      refsTag: [],\r\n      tagsCount: 1\r\n    };\r\n  },\r\n  props: {\r\n    pageTagsList: Array,\r\n    beforePush: {\r\n      type: Function,\r\n      default: item => {\r\n        return true;\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    title() {\r\n      return this.$store.state.app.currentTitle;\r\n    },\r\n    tagsList() {\r\n      return this.$store.state.app.pageOpenedList;\r\n    }\r\n  },\r\n  methods: {\r\n    itemTitle(item) {\r\n      if (typeof item.title === \"object\") {\r\n        return this.$t(item.title.i18n);\r\n      } else {\r\n        return item.title;\r\n      }\r\n    },\r\n    closePage(event, name) {\r\n      let pageOpenedList = this.$store.state.app.pageOpenedList;\r\n      let lastPageObj = pageOpenedList[0];\r\n      if (this.currentPageName === name) {\r\n        let len = pageOpenedList.length;\r\n        for (let i = 1; i < len; i++) {\r\n          if (pageOpenedList[i].name === name) {\r\n            if (i < len - 1) {\r\n              lastPageObj = pageOpenedList[i + 1];\r\n            } else {\r\n              lastPageObj = pageOpenedList[i - 1];\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        let tagWidth = event.target.parentNode.offsetWidth;\r\n        this.tagBodyLeft = Math.min(this.tagBodyLeft + tagWidth, 0);\r\n      }\r\n      this.$store.commit(\"removeTag\", name);\r\n      this.$store.commit(\"closePage\", name);\r\n      pageOpenedList = this.$store.state.app.pageOpenedList;\r\n      localStorage.pageOpenedList = JSON.stringify(pageOpenedList);\r\n      if (this.currentPageName === name) {\r\n        this.linkTo(lastPageObj);\r\n      }\r\n    },\r\n    linkTo(item) {\r\n      let routerObj = {};\r\n      routerObj.name = item.name;\r\n      if (item.argu) {\r\n        routerObj.params = item.argu;\r\n      }\r\n      if (item.query) {\r\n        routerObj.query = item.query;\r\n      }\r\n      if (this.beforePush(item)) {\r\n        this.$router.push(routerObj);\r\n      }\r\n    },\r\n    handlescroll(e) {\r\n      var type = e.type;\r\n      let delta = 0;\r\n      if (type === \"DOMMouseScroll\" || type === \"mousewheel\") {\r\n        delta = e.wheelDelta ? e.wheelDelta : -(e.detail || 0) * 40;\r\n      }\r\n      let left = 0;\r\n      if (delta > 0) {\r\n        left = Math.min(0, this.tagBodyLeft + delta);\r\n      } else {\r\n        if (\r\n          this.$refs.scrollCon.offsetWidth - 100 <\r\n          this.$refs.scrollBody.offsetWidth\r\n        ) {\r\n          if (\r\n            this.tagBodyLeft <\r\n            -(\r\n              this.$refs.scrollBody.offsetWidth -\r\n              this.$refs.scrollCon.offsetWidth +\r\n              100\r\n            )\r\n          ) {\r\n            left = this.tagBodyLeft;\r\n          } else {\r\n            left = Math.max(\r\n              this.tagBodyLeft + delta,\r\n              this.$refs.scrollCon.offsetWidth -\r\n                this.$refs.scrollBody.offsetWidth -\r\n                100\r\n            );\r\n          }\r\n        } else {\r\n          this.tagBodyLeft = 0;\r\n        }\r\n      }\r\n      this.tagBodyLeft = left;\r\n    },\r\n    handleTagsOption(type) {\r\n      if (type === \"clearAll\") {\r\n        this.$store.commit(\"clearAllTags\");\r\n        this.$router.push({\r\n          name: \"home_index\"\r\n        });\r\n      } else {\r\n        this.$store.commit(\"clearOtherTags\", this);\r\n      }\r\n      this.tagBodyLeft = 0;\r\n    },\r\n    moveToView(tag) {\r\n      if (tag.offsetLeft < -this.tagBodyLeft) {\r\n        // 标签在可视区域左侧\r\n        this.tagBodyLeft = -tag.offsetLeft + 10;\r\n      } else if (\r\n        tag.offsetLeft + 10 > -this.tagBodyLeft &&\r\n        tag.offsetLeft + tag.offsetWidth <\r\n          -this.tagBodyLeft + this.$refs.scrollCon.offsetWidth - 100\r\n      ) {\r\n        // 标签在可视区域\r\n        this.tagBodyLeft = Math.min(\r\n          0,\r\n          this.$refs.scrollCon.offsetWidth -\r\n            100 -\r\n            tag.offsetWidth -\r\n            tag.offsetLeft -\r\n            20\r\n        );\r\n      } else {\r\n        // 标签在可视区域右侧\r\n        this.tagBodyLeft = -(\r\n          tag.offsetLeft -\r\n          (this.$refs.scrollCon.offsetWidth - 100 - tag.offsetWidth) +\r\n          20\r\n        );\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.refsTag = this.$refs.tagsPageOpened;\r\n    setTimeout(() => {\r\n      this.refsTag.forEach((item, index) => {\r\n        if (this.$route.name === item.name) {\r\n          let tag = this.refsTag[index].$el;\r\n          this.moveToView(tag);\r\n        }\r\n      });\r\n    }, 1); // 这里不设定时器就会有偏移bug\r\n    this.tagsCount = this.tagsList.length;\r\n  },\r\n  watch: {\r\n    $route(to) {\r\n      this.currentPageName = to.name;\r\n      this.$nextTick(() => {\r\n        this.refsTag.forEach((item, index) => {\r\n          if (to.name === item.name) {\r\n            let tag = this.refsTag[index].$el;\r\n            this.moveToView(tag);\r\n          }\r\n        });\r\n      });\r\n      this.tagsCount = this.tagsList.length;\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views/components"}]}