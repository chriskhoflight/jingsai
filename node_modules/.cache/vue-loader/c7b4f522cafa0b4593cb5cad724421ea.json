{"remainingRequest":"D:\\jingsai\\rcms_src\\rcms-pc-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\jingsai\\rcms_src\\rcms-pc-web\\src\\views\\components\\header\\app-header.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\jingsai\\rcms_src\\rcms-pc-web\\src\\views\\components\\header\\app-header.vue","mtime":1566305570147},{"path":"D:\\jingsai\\rcms_src\\rcms-pc-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\jingsai\\rcms_src\\rcms-pc-web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\jingsai\\rcms_src\\rcms-pc-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\jingsai\\rcms_src\\rcms-pc-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\jingsai\\rcms_src\\rcms-pc-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport './app-header.less'\r\nimport navMenu from \"@/views/components/nav-menu/navMenu.vue\";\r\nimport fullScreen from \"@/views/components/fullscreen.vue\";\r\nimport lockScreen from \"@/views/components/lockscreen/lockscreen.vue\";\r\nimport messageTip from \"@/views/components/message-tip.vue\";\r\nimport Cookies from \"js-cookie\";\r\nimport util from \"@/libs/util.js\";\r\nimport setting from \"@/settings.js\";\r\n\r\nexport default {\r\n  name: 'appHeader',\r\n  components: {\r\n    navMenu,\r\n    fullScreen,\r\n    lockScreen,\r\n    messageTip\r\n  },\r\n  props: {\r\n    activeName: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      username: \"\",\r\n      userId: \"\",\r\n      isFullScreen: false,\r\n      pomnameName: \"\",\r\n    }\r\n  },\r\n  computed: {\r\n    menuTheme() {\r\n      return this.$store.state.app.menuTheme;\r\n    },\r\n    menuList() {\r\n      return this.$store.state.app.menuList;\r\n    },\r\n     avatarPath() {\r\n      return localStorage.avatorImgPath;\r\n    },\r\n    lang() {\r\n      return this.$store.state.app.lang;\r\n    },\r\n    mesCount() {\r\n      return this.$store.state.app.messageCount;\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      // let pathArr = util.setCurrentPath(this, this.$route.name);\r\n      // // this.$store.commit(\"updateMenulist\");\r\n      // if (pathArr.length >= 2) {\r\n      //   this.$store.commit(\"addOpenSubmenu\", pathArr[1].name);\r\n      // }\r\n      let userInfo = JSON.parse(Cookies.get(\"userInfo\"));\r\n      this.username = userInfo.username;\r\n      this.userId = userInfo.id;\r\n \r\n    },\r\n    handleChange (name) {\r\n\r\n    },\r\n    fullscreenChange(isFullScreen) {\r\n      // console.log(isFullScreen);\r\n    },\r\n    handleLanDropdown(name) {\r\n      localStorage.lang = name;\r\n      this.$store.commit(\"switchLang\", name);\r\n    },\r\n    handleClickUserDropdown(name) {\r\n      if (name === \"ownSpace\") {\r\n        util.openNewPage(this, \"ownspace_index\");\r\n        this.$router.push({\r\n          name: \"ownspace_index\"\r\n        });\r\n      } else if (name === \"changePass\") {\r\n        util.openNewPage(this, \"change_pass\");\r\n        this.$router.push({\r\n          name: \"change_pass\"\r\n        });\r\n      } else if (name === \"loginout\") {\r\n        // 退出登录\r\n        this.$store.commit(\"logout\", this);\r\n        this.$store.commit(\"clearOpenedSubmenu\");\r\n        // 强制刷新页面 重新加载router\r\n        location.reload();\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    lang() {\r\n      util.setCurrentPath(this, this.$route.name); // 在切换语言时用于刷新面包屑\r\n    }\r\n  },\r\n  mounted () {\r\n    this.init();\r\n    this.pomnameName = setting.title;\r\n  }\r\n}\r\n",null]}