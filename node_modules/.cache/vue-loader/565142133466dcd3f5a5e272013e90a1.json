{"remainingRequest":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\gitProject\\rcms_src\\rcms-pc-web\\src\\views\\integral\\withdrawal\\withdrawalDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\src\\views\\integral\\withdrawal\\withdrawalDetails.vue","mtime":1565936236014},{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\gitProject\\rcms_src\\rcms-pc-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {\r\n  getIntegralWithdrawalDetailsList,\r\n  batchNotPassed,\r\n  batchPassed,\r\n  integralWithdrawalVeryfyNotPassed,\r\n  integralWithdrawalVeryfyPassed\r\n} from \"@/api/integral\";\r\nexport default {\r\n  name: \"withdrawalDetails\",\r\n  data() {\r\n    return {\r\n      selectCount: 0,\r\n      loading: false,\r\n      searchForm: {\r\n        userId: this.$route.params.userId,\r\n        status: [],\r\n        // 分页\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        sort: \"createTime\",\r\n        order: \"desc\",\r\n        // 时间\r\n        startDate: \"\",\r\n        endDate: \"\"\r\n      },\r\n      // 时间选择器\r\n      selectDate: null,\r\n      wxUserColumns: [\r\n         {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\",\r\n          fixed: \"left\"\r\n        },\r\n        {\r\n          title:\"序号\",\r\n          type: \"index\",\r\n          width: 70,\r\n          align: \"center\",\r\n          fixed: \"left\"\r\n        },\r\n        {\r\n          title: \"提现金额\",\r\n          key: \"amount\",\r\n          width: 110,\r\n          sortable: true,\r\n          fixed: \"left\"\r\n        },\r\n        {\r\n          title: \"消费积分\",\r\n          key: \"integral\",\r\n          width: 110,\r\n          sortable: true,\r\n          fixed: \"left\"\r\n        },\r\n        {\r\n          title: \"提现进度\",\r\n          key: \"status\",\r\n          width: 110,\r\n          sortable: true,\r\n          fixed: \"left\",\r\n          render: (h, params) => {\r\n            let re = \"\";\r\n            if (params.row.status === 0) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"tag\",\r\n                  {\r\n                    props: {\r\n                      type: \"border\",\r\n                      color: \"default\"\r\n                    }\r\n                  },\r\n                  \"待审核\"\r\n                )\r\n              ]);\r\n            }\r\n            if (params.row.status === 1) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"tag\",\r\n                  {\r\n                    props: {\r\n                      type: \"border\",\r\n                      color: \"success\"\r\n                    }\r\n                  },\r\n                  \"已通过\"\r\n                )\r\n              ]);\r\n            }\r\n            if (params.row.status === 2) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"tag\",\r\n                  {\r\n                    props: {\r\n                      type: \"border\",\r\n                      color: \"error\"\r\n                    }\r\n                  },\r\n                  \"不通过\"\r\n                )\r\n              ]);\r\n            }\r\n          }\r\n        },\r\n        {\r\n          title: \"说明\",\r\n          key: \"description\",\r\n          minWidth: 145,\r\n          fixed: \"left\",\r\n          tooltip:true\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          key: \"createTime\",\r\n          sortable: true,\r\n          sortType: \"desc\",\r\n          width: 150\r\n        },\r\n        {\r\n          title: \"提现审核\",\r\n          key: \"action\",\r\n          minWidth: 300,\r\n          align: \"center\",\r\n          fixed: \"right\",\r\n          render: (h, params) => {\r\n            if (params.row.status !== 0) {\r\n              return h(\"div\", [h(\"tag\", \"已审核\")]);\r\n            } else {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"primary\",\r\n                      size: \"small\"\r\n                    },\r\n                    style: {\r\n                      marginRight: \"5px\"\r\n                    },\r\n                    on: {\r\n                      click: () => {\r\n                        this.veryfyPassed(params.row);\r\n                      }\r\n                    }\r\n                  },\r\n                  \"通过\"\r\n                ),\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"error\",\r\n                      size: \"small\"\r\n                    },\r\n                    style: {\r\n                      marginRight: \"5px\"\r\n                    },\r\n                    on: {\r\n                      click: () => {\r\n                        this.veryfyNotPassed(params.row);\r\n                      }\r\n                    }\r\n                  },\r\n                  \"不通过\"\r\n                )\r\n              ]);\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      wxUserData: [],\r\n      // 分页-总记录数\r\n      total: 0\r\n    };\r\n  },\r\n  methods: {\r\n    showSelect(e) {\r\n      this.selectList = e;\r\n      this.selectCount = e.length;\r\n    },\r\n    batchPassedData() {\r\n      if (this.selectCount <= 0) {\r\n        this.$Message.warning(\"您还未选择要审核的数据\");\r\n        return;\r\n      }\r\n      this.$Modal.confirm({\r\n        title: \"确认审核\",\r\n        content: \"您确认要审核所选的 \" + this.selectCount + \" 条数据?\",\r\n        onOk: () => {\r\n          let ids = \"\";\r\n          this.selectList.forEach(function(e) {\r\n            ids += e.id + \",\";\r\n          });\r\n          ids = ids.substring(0, ids.length - 1);\r\n          this.loading = true;\r\n          batchPassed(ids).then(res => {\r\n            this.loading = false;\r\n            if (res.success) {\r\n              this.$Message.success(\"审核成功\");\r\n              this.clearSelectAll();\r\n              this.getIntegralWithdrawalDetailsListData();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    batchNotPassedData() {\r\n      if (this.selectCount <= 0) {\r\n        this.$Message.warning(\"您还未选择要审核的数据\");\r\n        return;\r\n      }\r\n      this.$Modal.confirm({\r\n        title: \"确认审核\",\r\n        content: \"您确认要审核所选的 \" + this.selectCount + \" 条数据?\",\r\n        onOk: () => {\r\n          let ids = \"\";\r\n          this.selectList.forEach(function(e) {\r\n            ids += e.id + \",\";\r\n          });\r\n          ids = ids.substring(0, ids.length - 1);\r\n          this.loading = true;\r\n          batchNotPassed(ids).then(res => {\r\n            this.loading = false;\r\n            if (res.success) {\r\n              this.$Message.success(\"审核成功\");\r\n              this.clearSelectAll();\r\n              this.getIntegralWithdrawalDetailsListData();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    clearSelectAll() {\r\n      this.$refs.table.selectAll(false);\r\n    },\r\n    veryfyPassed(v) {\r\n      // this.loading = false;\r\n      integralWithdrawalVeryfyPassed(v.id).then(res => {\r\n        // this.loading = false;\r\n        if (res.success) {\r\n          this.$Message.success(\"审核已完成\");\r\n          this.getIntegralWithdrawalDetailsListData();\r\n        }\r\n      });\r\n    },\r\n    veryfyNotPassed(v) {\r\n      integralWithdrawalVeryfyNotPassed(v).then(res => {\r\n        if (res.success) {\r\n          this.$Message.success(\"审核已完成\");\r\n          this.getIntegralWithdrawalDetailsListData();\r\n        }\r\n      });\r\n    },\r\n    back() {\r\n      window.history.back();\r\n    },\r\n    getIntegralWithdrawalDetailsListData() {\r\n      this.loading = false;\r\n      getIntegralWithdrawalDetailsList(this.searchForm).then(res => {\r\n        this.loading = false;\r\n        if (res.success) {\r\n          this.wxUserData = res.result.content;\r\n          this.total = res.result.totalElements;\r\n        }\r\n      });\r\n    },\r\n    changePage(v) {\r\n      this.searchForm.pageNumber = v;\r\n      this.getIntegralWithdrawalDetailsListData();\r\n      this.clearSelectAll();\r\n    },\r\n    changePageSize(v) {\r\n      this.searchForm.pageSize = v;\r\n      this.getIntegralWithdrawalDetailsListData();\r\n    },\r\n    selectDateRange(v) {\r\n      if (v) {\r\n        this.searchForm.startDate = v[0];\r\n        this.searchForm.endDate = v[1];\r\n      }\r\n    },\r\n    handleSearch() {\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.getIntegralWithdrawalDetailsListData();\r\n    },\r\n    handleReset() {\r\n      this.$refs.searchForm.resetFields();\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.selectDate = null;\r\n      this.searchForm.startDate = \"\";\r\n      this.searchForm.endDate = \"\";\r\n      this.getIntegralWithdrawalDetailsListData();\r\n    },\r\n    changeSort(e) {\r\n      this.searchForm.sort = e.key;\r\n      this.searchForm.order = e.order;\r\n      if (e.order === \"normal\") {\r\n        this.searchForm.order = \"\";\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    \"$route.name\"(toC, fromC) {\r\n      if (fromC === \"integral-manage\" && toC === \"withdrawalDetails\") {\r\n\r\n      } else {\r\n        this.getIntegralWithdrawalDetailsListData();\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getIntegralWithdrawalDetailsListData();\r\n  }\r\n};\r\n",{"version":3,"sources":["withdrawalDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"withdrawalDetails.vue","sourceRoot":"src/views/integral/withdrawal","sourcesContent":["<style lang=\"less\">\r\n@import \"./withdrawalDetails.less\";\r\n</style>\r\n<template>\r\n  <div class=\"search\">\r\n    <Row>\r\n      <Col>\r\n        <Card>\r\n          <Row>\r\n            <Col>\r\n              <Button type=\"primary\" icon=\"ios-arrow-back\" @click=\"back\">返回</Button>\r\n            </Col>\r\n          </Row>\r\n          <br />\r\n          <!-- 搜索框 -->\r\n          <Row>\r\n            <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"80\" class=\"search-form\">\r\n              <Form-item label=\"提现进度\" prop=\"status\">\r\n                <Select\r\n                  v-model=\"searchForm.status\"\r\n                  style=\"width:200px\"\r\n                  placeholder=\"请选择\"\r\n                  clearable\r\n                >\r\n                  <Option :value=\"0\">待审核</Option>\r\n                  <Option :value=\"1\">已通过</Option>\r\n                  <Option :value=\"2\">不通过</Option>\r\n                </Select>\r\n              </Form-item>\r\n              <Form-item label=\"创建时间\">\r\n                <DatePicker\r\n                  v-model=\"selectDate\"\r\n                  type=\"daterange\"\r\n                  format=\"yyyy-MM-dd\"\r\n                  clearable\r\n                  @on-change=\"selectDateRange\"\r\n                  placeholder=\"选择起始时间\"\r\n                  style=\"width: 200px\"\r\n                ></DatePicker>\r\n              </Form-item>\r\n              <Form-item style=\"margin-left:-35px;\" class=\"br\">\r\n                <Button @click=\"handleSearch\" type=\"primary\" icon=\"ios-search\">搜索</Button>\r\n                <Button @click=\"handleReset\">重置</Button>\r\n              </Form-item>\r\n            </Form>\r\n          </Row>\r\n          <Row class=\"operation\">\r\n            <!-- <Button type=\"text\"><strong>批量审核:</strong></Button> -->\r\n            <Button type=\"success\" @click=\"batchPassedData\" icon=\"md-checkmark\">批量通过</Button>\r\n            <Button type=\"error\" @click=\"batchNotPassedData\" icon=\"md-close\">批量不通过</Button>\r\n          </Row>\r\n           <Row>\r\n            <Alert show-icon>\r\n              已选择\r\n              <span class=\"select-count\">{{selectCount}}</span> 项\r\n              <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a>\r\n            </Alert>\r\n          </Row>\r\n          <!-- 表格 -->\r\n          <Row>\r\n            <Table\r\n              :loading=\"loading\"\r\n              border\r\n              :columns=\"wxUserColumns\"\r\n              :data=\"wxUserData\"\r\n              sortable=\"custom\"\r\n              @on-sort-change=\"changeSort\"\r\n              @on-selection-change=\"showSelect\"\r\n              ref=\"table\"\r\n            ></Table>\r\n          </Row>\r\n\r\n          <!-- 分页 -->\r\n          <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n            <Page\r\n              :current=\"searchForm.pageNumber\"\r\n              :total=\"total\"\r\n              :page-size=\"searchForm.pageSize\"\r\n              @on-change=\"changePage\"\r\n              @on-page-size-change=\"changePageSize\"\r\n              :page-size-opts=\"[10,20,50]\"\r\n              size=\"small\"\r\n              show-total\r\n              show-elevator\r\n              show-sizer\r\n            ></Page>\r\n          </Row>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getIntegralWithdrawalDetailsList,\r\n  batchNotPassed,\r\n  batchPassed,\r\n  integralWithdrawalVeryfyNotPassed,\r\n  integralWithdrawalVeryfyPassed\r\n} from \"@/api/integral\";\r\nexport default {\r\n  name: \"withdrawalDetails\",\r\n  data() {\r\n    return {\r\n      selectCount: 0,\r\n      loading: false,\r\n      searchForm: {\r\n        userId: this.$route.params.userId,\r\n        status: [],\r\n        // 分页\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        sort: \"createTime\",\r\n        order: \"desc\",\r\n        // 时间\r\n        startDate: \"\",\r\n        endDate: \"\"\r\n      },\r\n      // 时间选择器\r\n      selectDate: null,\r\n      wxUserColumns: [\r\n         {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\",\r\n          fixed: \"left\"\r\n        },\r\n        {\r\n          title:\"序号\",\r\n          type: \"index\",\r\n          width: 70,\r\n          align: \"center\",\r\n          fixed: \"left\"\r\n        },\r\n        {\r\n          title: \"提现金额\",\r\n          key: \"amount\",\r\n          width: 110,\r\n          sortable: true,\r\n          fixed: \"left\"\r\n        },\r\n        {\r\n          title: \"消费积分\",\r\n          key: \"integral\",\r\n          width: 110,\r\n          sortable: true,\r\n          fixed: \"left\"\r\n        },\r\n        {\r\n          title: \"提现进度\",\r\n          key: \"status\",\r\n          width: 110,\r\n          sortable: true,\r\n          fixed: \"left\",\r\n          render: (h, params) => {\r\n            let re = \"\";\r\n            if (params.row.status === 0) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"tag\",\r\n                  {\r\n                    props: {\r\n                      type: \"border\",\r\n                      color: \"default\"\r\n                    }\r\n                  },\r\n                  \"待审核\"\r\n                )\r\n              ]);\r\n            }\r\n            if (params.row.status === 1) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"tag\",\r\n                  {\r\n                    props: {\r\n                      type: \"border\",\r\n                      color: \"success\"\r\n                    }\r\n                  },\r\n                  \"已通过\"\r\n                )\r\n              ]);\r\n            }\r\n            if (params.row.status === 2) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"tag\",\r\n                  {\r\n                    props: {\r\n                      type: \"border\",\r\n                      color: \"error\"\r\n                    }\r\n                  },\r\n                  \"不通过\"\r\n                )\r\n              ]);\r\n            }\r\n          }\r\n        },\r\n        {\r\n          title: \"说明\",\r\n          key: \"description\",\r\n          minWidth: 145,\r\n          fixed: \"left\",\r\n          tooltip:true\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          key: \"createTime\",\r\n          sortable: true,\r\n          sortType: \"desc\",\r\n          width: 150\r\n        },\r\n        {\r\n          title: \"提现审核\",\r\n          key: \"action\",\r\n          minWidth: 300,\r\n          align: \"center\",\r\n          fixed: \"right\",\r\n          render: (h, params) => {\r\n            if (params.row.status !== 0) {\r\n              return h(\"div\", [h(\"tag\", \"已审核\")]);\r\n            } else {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"primary\",\r\n                      size: \"small\"\r\n                    },\r\n                    style: {\r\n                      marginRight: \"5px\"\r\n                    },\r\n                    on: {\r\n                      click: () => {\r\n                        this.veryfyPassed(params.row);\r\n                      }\r\n                    }\r\n                  },\r\n                  \"通过\"\r\n                ),\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"error\",\r\n                      size: \"small\"\r\n                    },\r\n                    style: {\r\n                      marginRight: \"5px\"\r\n                    },\r\n                    on: {\r\n                      click: () => {\r\n                        this.veryfyNotPassed(params.row);\r\n                      }\r\n                    }\r\n                  },\r\n                  \"不通过\"\r\n                )\r\n              ]);\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      wxUserData: [],\r\n      // 分页-总记录数\r\n      total: 0\r\n    };\r\n  },\r\n  methods: {\r\n    showSelect(e) {\r\n      this.selectList = e;\r\n      this.selectCount = e.length;\r\n    },\r\n    batchPassedData() {\r\n      if (this.selectCount <= 0) {\r\n        this.$Message.warning(\"您还未选择要审核的数据\");\r\n        return;\r\n      }\r\n      this.$Modal.confirm({\r\n        title: \"确认审核\",\r\n        content: \"您确认要审核所选的 \" + this.selectCount + \" 条数据?\",\r\n        onOk: () => {\r\n          let ids = \"\";\r\n          this.selectList.forEach(function(e) {\r\n            ids += e.id + \",\";\r\n          });\r\n          ids = ids.substring(0, ids.length - 1);\r\n          this.loading = true;\r\n          batchPassed(ids).then(res => {\r\n            this.loading = false;\r\n            if (res.success) {\r\n              this.$Message.success(\"审核成功\");\r\n              this.clearSelectAll();\r\n              this.getIntegralWithdrawalDetailsListData();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    batchNotPassedData() {\r\n      if (this.selectCount <= 0) {\r\n        this.$Message.warning(\"您还未选择要审核的数据\");\r\n        return;\r\n      }\r\n      this.$Modal.confirm({\r\n        title: \"确认审核\",\r\n        content: \"您确认要审核所选的 \" + this.selectCount + \" 条数据?\",\r\n        onOk: () => {\r\n          let ids = \"\";\r\n          this.selectList.forEach(function(e) {\r\n            ids += e.id + \",\";\r\n          });\r\n          ids = ids.substring(0, ids.length - 1);\r\n          this.loading = true;\r\n          batchNotPassed(ids).then(res => {\r\n            this.loading = false;\r\n            if (res.success) {\r\n              this.$Message.success(\"审核成功\");\r\n              this.clearSelectAll();\r\n              this.getIntegralWithdrawalDetailsListData();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    clearSelectAll() {\r\n      this.$refs.table.selectAll(false);\r\n    },\r\n    veryfyPassed(v) {\r\n      // this.loading = false;\r\n      integralWithdrawalVeryfyPassed(v.id).then(res => {\r\n        // this.loading = false;\r\n        if (res.success) {\r\n          this.$Message.success(\"审核已完成\");\r\n          this.getIntegralWithdrawalDetailsListData();\r\n        }\r\n      });\r\n    },\r\n    veryfyNotPassed(v) {\r\n      integralWithdrawalVeryfyNotPassed(v).then(res => {\r\n        if (res.success) {\r\n          this.$Message.success(\"审核已完成\");\r\n          this.getIntegralWithdrawalDetailsListData();\r\n        }\r\n      });\r\n    },\r\n    back() {\r\n      window.history.back();\r\n    },\r\n    getIntegralWithdrawalDetailsListData() {\r\n      this.loading = false;\r\n      getIntegralWithdrawalDetailsList(this.searchForm).then(res => {\r\n        this.loading = false;\r\n        if (res.success) {\r\n          this.wxUserData = res.result.content;\r\n          this.total = res.result.totalElements;\r\n        }\r\n      });\r\n    },\r\n    changePage(v) {\r\n      this.searchForm.pageNumber = v;\r\n      this.getIntegralWithdrawalDetailsListData();\r\n      this.clearSelectAll();\r\n    },\r\n    changePageSize(v) {\r\n      this.searchForm.pageSize = v;\r\n      this.getIntegralWithdrawalDetailsListData();\r\n    },\r\n    selectDateRange(v) {\r\n      if (v) {\r\n        this.searchForm.startDate = v[0];\r\n        this.searchForm.endDate = v[1];\r\n      }\r\n    },\r\n    handleSearch() {\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.getIntegralWithdrawalDetailsListData();\r\n    },\r\n    handleReset() {\r\n      this.$refs.searchForm.resetFields();\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.selectDate = null;\r\n      this.searchForm.startDate = \"\";\r\n      this.searchForm.endDate = \"\";\r\n      this.getIntegralWithdrawalDetailsListData();\r\n    },\r\n    changeSort(e) {\r\n      this.searchForm.sort = e.key;\r\n      this.searchForm.order = e.order;\r\n      if (e.order === \"normal\") {\r\n        this.searchForm.order = \"\";\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    \"$route.name\"(toC, fromC) {\r\n      if (fromC === \"integral-manage\" && toC === \"withdrawalDetails\") {\r\n\r\n      } else {\r\n        this.getIntegralWithdrawalDetailsListData();\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getIntegralWithdrawalDetailsListData();\r\n  }\r\n};\r\n</script>"]}]}