{"remainingRequest":"D:\\jingsai\\rcms_src\\rcms-pc-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\jingsai\\rcms_src\\rcms-pc-web\\src\\views\\develop\\library\\third-library.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\jingsai\\rcms_src\\rcms-pc-web\\src\\views\\develop\\library\\third-library.vue","mtime":1564969187205},{"path":"D:\\jingsai\\rcms_src\\rcms-pc-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\jingsai\\rcms_src\\rcms-pc-web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\jingsai\\rcms_src\\rcms-pc-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\jingsai\\rcms_src\\rcms-pc-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\jingsai\\rcms_src\\rcms-pc-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n// 组件内使用\r\nimport { VueCropper } from \"vue-cropper\";\r\nimport printJS from \"print-js\";\r\nimport html2canvas from \"html2canvas\";\r\nimport { format } from \"date-fns\";\r\nimport \"dplayer/dist/DPlayer.min.css\";\r\nimport DPlayer from \"dplayer\";\r\nimport { base64Upload } from \"@/api/index.js\";\r\nexport default {\r\n  name: \"third-library\",\r\n  components: {\r\n    VueCropper\r\n  },\r\n  data() {\r\n    return {\r\n      resArr: [],\r\n      resArr2: [],\r\n      modalVisible: false,\r\n      imgUrl: \"\",\r\n      showPrintImage: false,\r\n      content: \"测试文本内容\",\r\n      time: \"\",\r\n      data: [\r\n        {\r\n          id: \"1\",\r\n          name: \"X-BOOT\",\r\n          createTime: \"2018-08-08 00:08:00\",\r\n          updateTime: \"2018-08-08 00:08:00\"\r\n        },\r\n        {\r\n          id: \"2\",\r\n          name: \"Exrick\",\r\n          createTime: \"2018-08-08 00:08:00\",\r\n          updateTime: \"2018-08-08 00:08:00\"\r\n        }\r\n      ],\r\n      selectCount: 0,\r\n      props: {\r\n        stripe: false,\r\n        border: true,\r\n        showHeader: true,\r\n        showSummary: false,\r\n        showRowHover: true,\r\n        showIndex: true,\r\n        treeType: true,\r\n        isFold: true,\r\n        expandType: true,\r\n        selectable: true\r\n      },\r\n      ids: \"\",\r\n      tableData: [\r\n        {\r\n          id: 1,\r\n          name: \"Jack\",\r\n          sex: \"男\",\r\n          createTime: \"2018-08-08 00:08:00\",\r\n          updateTime: \"2018-08-08 00:08:00\",\r\n          children: [\r\n            {\r\n              id: 2,\r\n              name: \"Ashley\",\r\n              sex: \"女\",\r\n              createTime: \"2018-08-08 00:08:00\",\r\n              updateTime: \"2018-08-08 00:08:00\",\r\n              children: [\r\n                {\r\n                  id: 3,\r\n                  name: \"Ashley\",\r\n                  sex: \"女\",\r\n                  createTime: \"2018-08-08 00:08:00\",\r\n                  updateTime: \"2018-08-08 00:08:00\"\r\n                },\r\n                {\r\n                  id: 4,\r\n                  name: \"Taki\",\r\n                  sex: \"男\",\r\n                  createTime: \"2018-08-08 00:08:00\",\r\n                  updateTime: \"2018-08-08 00:08:00\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              id: 5,\r\n              name: \"Taki\",\r\n              sex: \"男\",\r\n              createTime: \"2018-08-08 00:08:00\",\r\n              updateTime: \"2018-08-08 00:08:00\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          id: 6,\r\n          name: \"Tom\",\r\n          sex: \"男\",\r\n          createTime: \"2018-08-08 00:08:00\",\r\n          updateTime: \"2018-08-08 00:08:00\",\r\n          children: [\r\n            {\r\n              id: 7,\r\n              name: \"Ashley\",\r\n              sex: \"女\",\r\n              createTime: \"2018-08-08 00:08:00\",\r\n              updateTime: \"2018-08-08 00:08:00\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          id: 8,\r\n          name: \"Tom\",\r\n          sex: \"男\",\r\n          createTime: \"2018-08-08 00:08:00\",\r\n          updateTime: \"2018-08-08 00:08:00\"\r\n        },\r\n        {\r\n          id: 9,\r\n          name: \"Tom\",\r\n          sex: \"男\",\r\n          createTime: \"2018-08-08 00:08:00\",\r\n          updateTime: \"2018-08-08 00:08:00\",\r\n          children: [\r\n            {\r\n              id: 10,\r\n              name: \"Ashley\",\r\n              sex: \"女\",\r\n              createTime: \"2018-08-08 00:08:00\",\r\n              updateTime: \"2018-08-08 00:08:00\"\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      columns: [\r\n        {\r\n          title: \"姓名\",\r\n          key: \"name\",\r\n          minWidth: \"200px\"\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"sex\",\r\n          headerAlign: \"center\",\r\n          align: \"center\",\r\n          minWidth: \"50px\"\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          key: \"createTime\",\r\n          headerAlign: \"center\",\r\n          align: \"center\",\r\n          minWidth: \"200px\"\r\n        },\r\n        {\r\n          title: \"更新时间\",\r\n          key: \"updateTime\",\r\n          headerAlign: \"center\",\r\n          align: \"center\",\r\n          minWidth: \"200px\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          headerAlign: \"center\",\r\n          align: \"center\",\r\n          width: \"250px\",\r\n          type: \"template\",\r\n          template: \"action\"\r\n        }\r\n      ],\r\n      option: {\r\n        img: \"https://i.loli.net/2019/03/12/5c87521fb8ae9.jpeg\",\r\n        outputType: \"png\"\r\n      },\r\n      previews: \"\",\r\n      previewStyle: {},\r\n      uploadLoading: false\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.time = format(new Date(), \"YYYY-MM-DD\");\r\n      this.initVideo();\r\n    },\r\n    printHtml() {\r\n      printJS(\"printjs\", \"html\");\r\n    },\r\n    printJson() {\r\n      printJS({\r\n        printable: this.data,\r\n        header: \"用户数据\",\r\n        gridStyle: \"border: 1px solid lightgray;text-align:center\",\r\n        properties: [\"id\", \"name\", \"createTime\", \"updateTime\"],\r\n        type: \"json\"\r\n      });\r\n    },\r\n    html2canvas() {\r\n      let that = this;\r\n      html2canvas(document.body).then(function(canvas) {\r\n        that.imgUrl = canvas.toDataURL(\"image/jpeg\");\r\n      });\r\n      this.modalVisible = true;\r\n      this.showPrintImage = false;\r\n    },\r\n    html2canvas2() {\r\n      let that = this;\r\n      html2canvas(document.getElementById(\"html2canvas\")).then(function(\r\n        canvas\r\n      ) {\r\n        that.imgUrl = canvas.toDataURL(\"image/jpeg\");\r\n      });\r\n      this.modalVisible = true;\r\n      this.showPrintImage = false;\r\n    },\r\n    html2canvas3() {\r\n      let that = this;\r\n      html2canvas(document.body).then(function(canvas) {\r\n        that.imgUrl = canvas.toDataURL(\"image/jpeg\");\r\n      });\r\n      this.modalVisible = true;\r\n      this.showPrintImage = true;\r\n    },\r\n    printPic() {\r\n      printJS({\r\n        printable: \"render\",\r\n        type: \"html\",\r\n        header: \"图片数据\"\r\n      });\r\n    },\r\n    onCopy() {\r\n      this.$Message.success(\"复制成功\");\r\n    },\r\n    onError() {\r\n      this.$Message.warning(\"复制失败，请手动复制\");\r\n    },\r\n    handleRadioClick(v) {\r\n      this.selectCount = this.$refs.treeTable.getCheckedProp().length;\r\n    },\r\n    click(v) {\r\n      this.$Message.info(\"点击数据ID为：\" + v.id);\r\n    },\r\n    initVideo(v) {\r\n      const dp = new DPlayer({\r\n        container: document.getElementById(\"dplayer\"),\r\n        screenshot: true,\r\n        video: {\r\n          url:\r\n            \"https://cloud.video.taobao.com//play/u/95292294/p/1/e/6/t/1/210877258798.mp4\"\r\n        },\r\n        danmaku: {\r\n          id: \"弹幕ID210877258798\",\r\n          api: \"https://api.prprpr.me/dplayer/\"\r\n        }\r\n      });\r\n    },\r\n    // 实时预览\r\n    realTime(data) {\r\n      let preview = data,\r\n        h = 0.5;\r\n      this.previewStyle = {\r\n        width: preview.w + \"px\",\r\n        height: preview.h + \"px\",\r\n        overflow: \"hidden\",\r\n        margin: \"0\",\r\n        zoom: h\r\n      };\r\n      this.previews = data;\r\n    },\r\n    upload() {\r\n      // 获取截图的base64 数据\r\n      this.$refs.cropper.getCropData(data => {\r\n        this.uploadLoading = true;\r\n        base64Upload({ base64: data }).then(res => {\r\n          this.uploadLoading = false;\r\n          if (res.success) {\r\n            this.$Message.success(\"上传成功\");\r\n          }\r\n        });\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  }\r\n};\r\n",null]}