{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-26060044\"],{\"07eb\":function(t,e,i){},\"319c\":function(t,e,i){\"use strict\";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",[i(\"br\"),i(\"Row\",[i(\"i-col\",{attrs:{span:\"30\"}},[i(\"Card\",{attrs:{shadow:\"\"}},[i(\"span\",{attrs:{slot:\"title\"},slot:\"title\"},[t._v(\"\\n          订单信息\\n          \"),i(\"span\",{staticStyle:{float:\"right\",width:\"100px\",position:\"absolute\",top:\"10px\",right:\"10px\"}},[i(\"i-button\",{attrs:{type:\"primary\"},on:{click:t.back}},[t._v(\"返回\")])],1)]),i(\"p\",[t._v(\"订单号：\"+t._s(t.orderDetail.orderId))]),i(\"br\"),i(\"p\",[t._v(\"预约时间：\"+t._s(t.orderDetail.appointmentDay)+\" \"+t._s(t.orderDetail.appointmentStartTime)+\"～\"+t._s(t.orderDetail.appointmentEndTime))]),i(\"br\"),i(\"p\",[t._v(\"订单类型：\"+t._s(t.CpType))]),i(\"br\"),i(\"p\",{staticStyle:{\"font-size\":\"20px\",\"font-weight\":\"bold\"}},[t._v(\"\\n          预估价格(元)：\"),i(\"b\",{staticStyle:{\"font-size\":\"20px\",color:\"#FF7F00\",\"font-weight\":\"bold\"}},[t._v(t._s(t.orderDetail.estimatedPrice)+\" \")]),t._v(\"        实收价格(元)：\"),i(\"b\",{staticStyle:{\"font-size\":\"20px\",color:\"#FF7F00\",\"font-weight\":\"bold\"}},[t._v(t._s(t.orderDetail.paidPrice)+\" \")]),t._v(\"            附加费用(元)：\"),i(\"b\",{staticStyle:{\"font-size\":\"20px\",color:\"#FF7F00\",\"font-weight\":\"bold\"}},[t._v(t._s(t.orderDetail.additionalCosts))]),t._v(\"          \\n\\n        \")]),i(\"br\"),t.isTrac?i(\"p\",[t._v(\"收货人姓名:\"+t._s(t.orderDetail.destContactsName)+\"     收货人手机号:\"+t._s(t.orderDetail.destContactsPhone)+\"     收货人地址:\"+t._s(t.orderDetail.destContactsAdderss))]):t._e(),i(\"br\"),i(\"span\",[t._l(t.urlsList,function(e){return i(\"img\",{attrs:{width:\"100px\",height:\"100px\",src:e},on:{click:function(i){return t.watchBigImg(e)}}})}),i(\"br\")],2),i(\"br\"),i(\"p\",[i(\"Steps\",{attrs:{current:t.whichSatatus}},[i(\"Step\",{attrs:{title:\"待分配\",content:\"正在等待系统分配\"}}),i(\"Step\",{attrs:{title:\"系统派单中\",content:\"正在等待系统派单\"}}),i(\"Step\",{attrs:{title:\"已接单\",content:\"订单已被接单，等待回收人员上门\"}}),t.isRefuse?i(\"Step\",{attrs:{status:\"error\",title:\"拒绝接单\",content:\"回收人员拒绝接单\"}}):t._e(),t.isPay?i(\"Step\",{attrs:{title:\"待支付\",content:\"等待用户支付\"}}):t._e(),t.isPayed?i(\"Step\",{attrs:{title:\"已支付\",content:\"用户已完成支付\"}}):t._e(),t.isCancel?i(\"Step\",{attrs:{status:\"error\",title:\"已取消\",content:\"订单已取消\"}}):t._e(),t.isFinish?i(\"Step\",{attrs:{title:\"已完成\",content:\"订单已完成\"}}):t._e()],1)],1),t.isRemark?i(\"br\"):t._e(),t.isRemark?i(\"p\",[t._v(\" \\n          用户评价：\"+t._s(t.orderDetail.comment)+\"                评分：\"),i(\"Rate\",{attrs:{disabled:\"\",\"allow-half\":\"\"},model:{value:t.orderDetail.score,callback:function(e){t.$set(t.orderDetail,\"score\",e)},expression:\"orderDetail.score\"}})],1):t._e(),t.isRemark?i(\"br\"):t._e(),t.isRemark?i(\"p\",[t._v(\" \\n          回收人员评价： \"+t._s(t.orderDetail.recComment)+\"              评分：\"),i(\"Rate\",{attrs:{disabled:\"\",\"allow-half\":\"\"},model:{value:t.orderDetail.recScore,callback:function(e){t.$set(t.orderDetail,\"recScore\",e)},expression:\"orderDetail.recScore\"}})],1):t._e(),t.isRemark?i(\"br\"):t._e(),i(\"br\"),t.isDispactched?i(\"i-button\",{attrs:{type:\"primary\"},on:{click:t.dispatchOrderDialog}},[t._v(\"人工派单\")]):t._e(),t._v(\"   \\n          \"),t.isManualFinish?i(\"i-button\",{attrs:{type:\"success\"},on:{click:this.manualFinish}},[t._v(\"完成订单\")]):t._e()],1)],1)],1),i(\"br\"),i(\"Row\",[i(\"i-col\",{attrs:{span:\"30\"}},[i(\"Card\",{attrs:{shadow:\"\"}},[i(\"p\",{attrs:{slot:\"title\"},slot:\"title\"},[t._v(\"下单人信息\")]),i(\"br\"),i(\"p\",[t._v(\"姓名：\"+t._s(t.orderDetail.contactsName))]),i(\"br\"),i(\"p\",[t._v(\"手机号码：\"+t._s(t.orderDetail.contactsPhone))]),i(\"br\"),i(\"p\",[t._v(\"地址：\"+t._s(t.orderDetail.contactsAdderss))]),i(\"br\"),i(\"p\",[t._v(\"电梯房：\"+t._s(t.isElevatorRoom)+\"       楼层：\"+t._s(t.orderDetail.contactsFloor))]),i(\"p\")])],1)],1),i(\"br\"),i(\"Row\",[i(\"i-col\",{attrs:{span:\"30\"}},[i(\"Card\",{attrs:{shadow:\"\"}},[i(\"p\",{attrs:{slot:\"title\"},slot:\"title\"},[t._v(\"回收人员信息\")]),i(\"p\",[t._v(\"名字：\"+t._s(t.orderDetail.name))]),i(\"br\"),i(\"p\",[t._v(\"手机号码：\"+t._s(t.orderDetail.phone))])])],1)],1),i(\"br\"),i(\"Row\",[i(\"p\",[t._v(\"预估商品总价：\"+t._s(t.orderDetail.minPrice)+\" ~\"+t._s(t.orderDetail.maxPrice)+\" (元)\")])]),i(\"span\",[i(\"i-table\",{attrs:{height:\"400\",columns:t.columns,data:t.OrderGoodsList}})],1),i(\"br\"),i(\"Modal\",{attrs:{title:\"人工派单    (仅限公司员工)\",width:800,styles:{top:\"30px\"}},model:{value:t.dispatchModalVisible,callback:function(e){t.dispatchModalVisible=e},expression:\"dispatchModalVisible\"}},[i(\"i-table\",{attrs:{\"highlight-row\":\"\",height:\"400\",columns:t.RecyclingPersonnelColumns,data:t.RecyclingPersonnel},on:{\"on-current-change\":t.selectRc}}),i(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"Button\",{attrs:{type:\"text\"},on:{click:t.cancelDispactch}},[t._v(\"取消\")]),i(\"Button\",{attrs:{type:\"primary\"},on:{click:t.comfirmDispactch}},[t._v(\"确定分配\")])],1)],1),i(\"Modal\",{attrs:{width:600,styles:{top:\"30px\"}},model:{value:t.imgModal,callback:function(e){t.imgModal=e},expression:\"imgModal\"}},[i(\"div\",{attrs:{width:\"100%\"}},[i(\"img\",{attrs:{src:t.bigImgUrl,width:\"100%\",height:\"100%\"},on:{click:function(e){return t.watchBigImg(null)}}})])])],1)},r=[],a=i(\"b30f\");i(\"3e8f\");function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var n={data:function(){var t;return{imgModal:!1,bigImgUrl:null,isBigImg:!1,isRefuse:null,isCancel:null,isFinish:null,isPay:null,isPayed:null,RecyclingPersonnel:[],color:\"color\",dispatchForm:{RecyclingPersonnelId:\"\",orderId:\"\",RecyclingPersonnelName:\"\"},dispatchModalVisible:!1,orderDetailForm:{id:\"\",orderId:\"\"},orderDetail:(t={userRemark:\"\",recyclinRemark:\"\",score:null,recScore:null,comment:\"\",recComment:\"\",estimatedPrice:0,paidPrice:0,additionalCosts:0,destContactsAdderss:\"\",destContactsName:\"\",destContactsPhone:\"\"},o(t,\"additionalCosts\",0),o(t,\"id\",\"\"),o(t,\"imgUrls\",\"\"),o(t,\"appointmentDay\",\"\"),o(t,\"appointmentStartTime\",\"\"),o(t,\"appointmentEndTime\",\"\"),o(t,\"phone\",\"\"),o(t,\"orderId\",\"\"),o(t,\"type\",-1),o(t,\"contactsPhone\",\"\"),o(t,\"contactsName\",\"\"),o(t,\"isElevatorRoom\",-1),o(t,\"contactsFloor\",-1),o(t,\"contactsAdderss\",\"\"),o(t,\"name\",\"\"),o(t,\"status\",-1),t),columns:[{title:\"商品名称\",key:\"name\"},{title:\"商品数量\",key:\"goodsNum\"},{title:\"预估最小价格(单价)\",key:\"minPrice\"},{title:\"预估最大价格(单价)\",key:\"maxPrice\"},{title:\"该类商品预估最小价格\",key:\"goodMinTotalPrice\"},{title:\"该类商品预估最大价格\",key:\"goodMaxTotalPrice\"}],RecyclingPersonnelColumns:[{title:\"姓名\",key:\"name\"},{title:\"手机号码\",key:\"phone\"},{title:\"地址\",key:\"address\"}],OrderGoodsList:[]}},computed:{isRemark:function(){return!!((this.orderDetail.recyclinRemark=null)||null!=this.orderDetail.userRemark&&\"\"!=this.orderDetail.userRemark)},isTrac:function(){return 2==this.orderDetail.type},urlsList:function(){return this.orderDetail.imgUrls.split(\";\")},isManualFinish:function(){return 5!=this.orderDetail.status&&6!=this.orderDetail.status},CpType:function(){return 0===this.orderDetail.type?\"可再生回收\":1===this.orderDetail.type?\"付费回收\":2===this.orderDetail.type?\"运输服务\":void 0},isDispactched:function(){return 0===this.orderDetail.status||1===this.orderDetail.status||3===this.orderDetail.status},isElevatorRoom:function(){return 0==this.orderDetail.isElevatorRoom?\"是\":1==this.orderDetail.isElevatorRoom?\"否\":void 0},status:function(){return 0==this.orderDetail.status?\"待分配\":1==this.orderDetail.status?\"系统派单中\":2==this.orderDetail.status?\"已接单\":3==this.orderDetail.status?\"拒绝接单\":4==this.orderDetail.status?\"待支付\":5==this.orderDetail.status?\"已取消\":6==this.orderDetail.status?\"已完成\":void 0},type:function(){return 0==this.orderDetail.type?\"可再生回收\":1==this.orderDetail.type?\"付费回收\":2==this.orderDetail.type?\"运输服务\":void 0},whichSatatus:function(){return 0==this.orderDetail.status&&0==this.orderDetail.type?(this.isRefuse=!1,this.isCancel=!1,this.isPay=!1,this.isPayed=!1,this.isFinish=!0,0):0==this.orderDetail.status&&0==!this.orderDetail.type?(this.isRefuse=!1,this.isCancel=!1,this.isPayed=!0,this.isPay=!0,this.isFinish=!0,0):1==this.orderDetail.status&&0==this.orderDetail.type?(this.isRefuse=!1,this.isCancel=!1,this.isPay=!1,this.isPayed=!0,this.isFinish=!0,1):1==this.orderDetail.status&&0==!this.orderDetail.type?(this.isRefuse=!1,this.isCancel=!1,this.isPay=!0,this.isPayed=!0,this.isFinish=!0,1):2==this.orderDetail.status&&0==this.orderDetail.type?(this.isRefuse=!1,this.isCancel=!1,this.isPay=!1,this.isPayed=!1,this.isFinish=!0,2):2==this.orderDetail.status&&0==!this.orderDetail.type?(this.isRefuse=!1,this.isCancel=!1,this.isPay=!0,this.isPayed=!0,this.isFinish=!0,2):3==this.orderDetail.status&&0==this.orderDetail.type?(this.isCancel=!1,this.isFinish=!0,this.isPay=!1,this.isPayed=!1,this.isRefuse=!0,3):3==this.orderDetail.status&&0==!this.orderDetail.type?(this.isCancel=!1,this.isFinish=!0,this.isPay=!1,this.isPayed=!1,this.isRefuse=!0,3):4==this.orderDetail.status&&0==this.orderDetail.type?(this.isCancel=!1,this.isFinish=!0,this.isPay=!0,this.isPayed=!0,this.isRefuse=!1,3):4==this.orderDetail.status&&0==!this.orderDetail.type?(this.isRefuse=!1,this.isPay=!0,this.isPayed=!0,this.isCancel=!1,this.isFinish=!0,3):5==this.orderDetail.status&&0==this.orderDetail.type?(this.isCancel=!0,this.isFinish=!1,this.isPay=!1,this.isPayed=!1,this.isRefuse=!1,3):5==this.orderDetail.status&&0==!this.orderDetail.type?(this.isCancel=!0,this.isFinish=!1,this.isPay=!0,this.isPayed=!0,this.isRefuse=!1,5):6==this.orderDetail.status&&0==this.orderDetail.type?(this.isCancel=!1,this.isFinish=!0,this.isPay=!1,this.isPayed=!1,this.isRefuse=!1,3):6==this.orderDetail.status&&0==!this.orderDetail.type?(this.isRefuse=!1,this.isPay=!0,this.isPayed=!1,this.isCancel=!1,this.isFinish=!0,5):7==this.orderDetail.status?(this.isRefuse=!1,this.isPay=!0,this.isPayed=!0,this.isCancel=!1,this.isFinish=!0,4):void 0}},methods:{back:function(){this.$router.go(-1)},watchBigImg:function(t){this.imgModal=!this.imgModal,this.bigImgUrl=t},cancelDispactch:function(){this.dispatchModalVisible=!1},manualFinish:function(){var t=this;this.$Modal.confirm({title:\"确认完成\",content:\"确认人工完成订单\"+this.orderDetail.orderId+\"吗？\",onOk:function(){Object(a[\"i\"])(t.orderDetail).then(function(e){!0===e.success?(t.$Message.success(\"订单已完成!\"),location.reload()):!1===e.success&&t.$Message.error(e.message+\"错误代码:\"+e.code)})}})},selectRc:function(t,e){this.dispatchForm.orderId=this.orderDetail.orderId,this.dispatchForm.RecyclingPersonnelId=t.id,this.dispatchForm.RecyclingPersonnelName=t.name},comfirmDispactch:function(){var t=this;\"\"!=this.dispatchForm.RecyclingPersonnelName&&null!=this.dispatchForm.RecyclingPersonnelName?this.$Modal.confirm({title:\"确认分配\",content:\"您确认要分配订单给\"+this.dispatchForm.RecyclingPersonnelName+\"?\",onOk:function(){Object(a[\"d\"])(t.dispatchForm).then(function(e){!0===e.success&&(t.dispatchModalVisible=!1,location.reload())}),t.confirmDialog=!0}}):this.$Message.error(\"请选择人员\")},getOrderDetailMethod:function(){var t=this;this.orderDetailForm.id=this.orderDetail.id,this.orderDetailForm.orderId=this.orderDetail.orderId,Object(a[\"h\"])(this.orderDetailForm).then(function(e){!0===e.success&&(null!=e.result.orderGoodsList&&(t.OrderGoodsList=e.result.orderGoodsList),t.orderDetail=e.result)})},dispatchOrderDialog:function(){var t=this;this.dispatchModalVisible=!0,Object(a[\"g\"])().then(function(e){!0===e.success&&(t.RecyclingPersonnel=e.result)})}},mounted:function(){this.getOrderDetailMethod()},created:function(){var t=this.$route.query.orderData;null!=t&&void 0!=t&&void 0!=t.orderId?(this.orderDetail=t,this.setStore(\"orderId\",t.orderId),this.setStore(\"id\",t.id)):(this.orderDetail.id=this.getStore(\"id\"),this.orderDetail.orderId=this.getStore(\"orderId\"))}},l=n,d=(i(\"f9d9\"),i(\"2877\")),c=Object(d[\"a\"])(l,s,r,!1,null,null,null);e[\"default\"]=c.exports},\"3e8f\":function(t,e){},b30f:function(t,e,i){\"use strict\";i.d(e,\"a\",function(){return r}),i.d(e,\"f\",function(){return a}),i.d(e,\"c\",function(){return o}),i.d(e,\"h\",function(){return n}),i.d(e,\"g\",function(){return l}),i.d(e,\"d\",function(){return d}),i.d(e,\"b\",function(){return c}),i.d(e,\"i\",function(){return h}),i.d(e,\"e\",function(){return u});var s=i(\"7f80\"),r=function(t){return Object(s[\"c\"])(\"/orders/addOrder\",t)},a=function(t){return Object(s[\"b\"])(\"/orders/getAllOrders\",t)},o=function(t,e){return Object(s[\"a\"])(\"/orders/delOneOrder/\".concat(t),e)},n=function(t){return Object(s[\"b\"])(\"/orderDetails/getDetail\",t)},l=function(){return Object(s[\"b\"])(\"/orders/getAllOwnOnlineRP\")},d=function(t){return Object(s[\"d\"])(\"/orders/manualDispatchOrders\",t)},c=function(t){return Object(s[\"d\"])(\"/orders/cancelOrder\",t)},h=function(t){return Object(s[\"d\"])(\"/orders/manualFinishOrder\",t)},u=function(){return Object(s[\"b\"])(\"/orders/getAlarm\")}},f9d9:function(t,e,i){\"use strict\";var s=i(\"07eb\"),r=i.n(s);r.a}}]);","extractedComments":[]}