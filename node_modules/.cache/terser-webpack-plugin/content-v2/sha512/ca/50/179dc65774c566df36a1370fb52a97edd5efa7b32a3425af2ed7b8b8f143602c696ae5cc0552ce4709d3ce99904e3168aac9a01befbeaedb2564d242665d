{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-0d0ce5ea\",\"chunk-54450d9a\",\"chunk-2ec6664f\",\"chunk-6a35c6f6\",\"chunk-01cb662c\",\"chunk-2d0c9b38\"],{\"1b13\":function(e,t,a){},\"1dbc\":function(e,t,a){\"use strict\";var r=a(\"ab57\"),s=a.n(r);s.a},2232:function(e,t,a){\"use strict\";var r=a(\"9d93\"),s=a.n(r);s.a},\"33f4\":function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticStyle:{display:\"inline-block\"}},[a(\"Icon\",{staticClass:\"spin-icon-load\",attrs:{type:\"ios-loading\",size:\"18\",color:\"#2d8cf0\"}})],1)},s=[],o={name:\"circleLoading\"},n=o,i=(a(\"2232\"),a(\"2877\")),l=Object(i[\"a\"])(n,r,s,!1,null,null,null);t[\"default\"]=l.exports},3651:function(e,t,a){\"use strict\";var r=a(\"3f4f\"),s=a.n(r);s.a},\"392c\":function(e,t,a){},\"3f4f\":function(e,t,a){},\"59ec\":function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"Cascader\",{style:{width:e.width},attrs:{data:e.department,\"load-data\":e.loadData,\"change-on-select\":\"\",filterable:\"\",clearable:\"\",placeholder:\"请选择或输入搜索部门\"},on:{\"on-change\":e.handleChangeDep},model:{value:e.selectDep,callback:function(t){e.selectDep=t},expression:\"selectDep\"}})],1)},s=[],o=a(\"365c\"),n={name:\"departmentChoose\",props:{width:{type:String,default:\"200px\"}},data:function(){return{selectDep:[],department:[]}},methods:{initDepartmentData:function(){var e=this;Object(o[\"gb\"])().then(function(t){!0===t.success&&(t.result.forEach(function(e){e.isParent?(e.value=e.id,e.label=e.title,e.loading=!1,e.children=[]):(e.value=e.id,e.label=e.title),-1===e.status&&(e.label=\"[已禁用] \"+e.label,e.disabled=!0)}),e.department=t.result)})},loadData:function(e,t){e.loading=!0,Object(o[\"hb\"])(e.value).then(function(a){e.loading=!1,!0===a.success&&(a.result.forEach(function(e){e.isParent?(e.value=e.id,e.label=e.title,e.loading=!1,e.children=[]):(e.value=e.id,e.label=e.title),-1===e.status&&(e.label=\"[已禁用] \"+e.label,e.disabled=!0)}),e.children=a.result,t())})},handleChangeDep:function(e,t){var a=\"\";e&&e.length>0&&(a=e[e.length-1]),this.$emit(\"on-select\",a)},clearSelect:function(){this.selectDep=[]}},created:function(){this.initDepartmentData()}},i=n,l=a(\"2877\"),c=Object(l[\"a\"])(i,r,s,!1,null,null,null);t[\"default\"]=c.exports},\"69bd\":function(e,t,a){},\"9d93\":function(e,t,a){},a79f:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"Row\",[a(\"Col\",{attrs:{span:\"6\"}},[a(\"span\",[e._v(\"下单人信息:\")])])],1),a(\"Br\"),a(\"Row\",{staticClass:\"expand-row\"},[a(\"Col\",{attrs:{span:\"3\"}},[a(\"span\",[e._v(\"姓名：\")]),a(\"span\",[e._v(e._s(e.row.contactsName))])]),a(\"Col\",{attrs:{span:\"4\"}},[a(\"span\",[e._v(\"手机号码：\")]),a(\"span\",[e._v(e._s(e.row.contactsPhone))])]),a(\"Col\",{attrs:{span:\"4\"}},[a(\"span\",[e._v(\"是否电梯房：\")]),a(\"span\",[e._v(e._s(e.isElevatorRoom))])]),a(\"Col\",{attrs:{span:\"2\"}},[a(\"span\",[e._v(\"楼层：\")]),a(\"span\",[e._v(e._s(e.row.contactsFloor))])])],1),a(\"Row\",[a(\"Col\",{attrs:{span:\"6\"}},[a(\"span\",[e._v(\"地址：\")]),a(\"span\",[e._v(e._s(e.row.contactsAdderss))])])],1),a(\"br\"),a(\"Row\",[a(\"Col\",{attrs:{span:\"6\"}},[a(\"span\",[e._v(\"回收人员信息:\")])])],1),a(\"br\"),a(\"Row\",[a(\"Col\",{attrs:{span:\"3\"}},[a(\"span\",[e._v(\"名字：\")]),a(\"span\",[e._v(e._s(e.row.name))])]),a(\"Col\",{attrs:{span:\"4\"}},[a(\"span\",[e._v(\"手机号码：\")]),a(\"span\",[e._v(e._s(e.row.phone))])])],1)],1)},s=[],o={name:\"expandRow\",props:{row:Object},computed:{isElevatorRoom:function(){return 0==this.row.isElevatorRoom?\"是\":1==this.row.isElevatorRoom?\"否\":void 0}}},n=o,i=(a(\"fb9f\"),a(\"2877\")),l=Object(i[\"a\"])(n,r,s,!1,null,\"0d2c3d9b\",null);t[\"default\"]=l.exports},aa8f:function(e,t,a){\"use strict\";var r=a(\"69bd\"),s=a.n(r);s.a},ab57:function(e,t,a){},b30f:function(e,t,a){\"use strict\";a.d(t,\"a\",function(){return s}),a.d(t,\"f\",function(){return o}),a.d(t,\"c\",function(){return n}),a.d(t,\"h\",function(){return i}),a.d(t,\"g\",function(){return l}),a.d(t,\"d\",function(){return c}),a.d(t,\"b\",function(){return u}),a.d(t,\"i\",function(){return d}),a.d(t,\"e\",function(){return p});var r=a(\"7f80\"),s=function(e){return Object(r[\"c\"])(\"/orders/addOrder\",e)},o=function(e){return Object(r[\"b\"])(\"/orders/getAllOrders\",e)},n=function(e,t){return Object(r[\"a\"])(\"/orders/delOneOrder/\".concat(e),t)},i=function(e){return Object(r[\"b\"])(\"/orderDetails/getDetail\",e)},l=function(){return Object(r[\"b\"])(\"/orders/getAllOwnOnlineRP\")},c=function(e){return Object(r[\"d\"])(\"/orders/manualDispatchOrders\",e)},u=function(e){return Object(r[\"d\"])(\"/orders/cancelOrder\",e)},d=function(e){return Object(r[\"d\"])(\"/orders/manualFinishOrder\",e)},p=function(){return Object(r[\"b\"])(\"/orders/getAlarm\")}},dd85:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"Poptip\",{attrs:{trigger:\"click\",placement:\"right\",title:\"选择部门\",width:\"250\"}},[a(\"div\",{staticStyle:{display:\"flex\"}},[a(\"Input\",{staticStyle:{\"margin-right\":\"10px\"},style:{width:e.width},attrs:{readonly:\"\",placeholder:e.placeholder},model:{value:e.departmentTitle,callback:function(t){e.departmentTitle=t},expression:\"departmentTitle\"}}),a(\"Button\",{attrs:{icon:\"md-trash\"},on:{click:e.clearSelect}},[e._v(\"清空已选\")])],1),a(\"div\",{staticClass:\"tree-bar\",attrs:{slot:\"content\"},slot:\"content\"},[a(\"Input\",{attrs:{suffix:\"ios-search\",placeholder:\"输入部门名搜索\",clearable:\"\"},on:{\"on-change\":e.searchDep},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:\"searchKey\"}}),a(\"Tree\",{attrs:{data:e.dataDep,\"load-data\":e.loadData,multiple:e.multiple},on:{\"on-select-change\":e.selectTree}}),e.depLoading?a(\"Spin\",{attrs:{size:\"large\",fix:\"\"}}):e._e()],1)])],1)},s=[],o=a(\"365c\"),n={name:\"departmentTreeChoose\",props:{multiple:{type:Boolean,default:!1},width:{type:String,default:\"200px\"},placeholder:{type:String,default:\"点击选择部门\"}},data:function(){return{depLoading:!1,departmentTitle:\"\",searchKey:\"\",dataDep:[],selectDep:[],department:[]}},methods:{initDepartmentData:function(){var e=this;Object(o[\"gb\"])().then(function(t){!0===t.success&&(t.result.forEach(function(e){e.isParent&&(e.loading=!1,e.children=[]),-1===e.status&&(e.title=\"[已禁用] \"+e.title,e.disabled=!0)}),e.dataDep=t.result)})},loadData:function(e,t){Object(o[\"hb\"])(e.id).then(function(e){!0===e.success&&(e.result.forEach(function(e){e.isParent&&(e.loading=!1,e.children=[]),-1===e.status&&(e.title=\"[已禁用] \"+e.title,e.disabled=!0)}),t(e.result))})},searchDep:function(){var e=this;this.searchKey?(this.depLoading=!0,Object(o[\"ob\"])({title:this.searchKey}).then(function(t){e.depLoading=!1,t.success&&(t.result.forEach(function(e){-1===e.status&&(e.title=\"[已禁用] \"+e.title,e.disabled=!0)}),e.dataDep=t.result)})):this.initDepartmentData()},selectTree:function(e){var t=[],a=\"\";e.forEach(function(e){t.push(e.id),a=\"\"==a?e.title:a+\"、\"+e.title}),this.departmentId=t,this.departmentTitle=a,this.$emit(\"on-change\",this.departmentId)},clearSelect:function(){this.departmentId=[],this.departmentTitle=\"\",this.initDepartmentData(),this.$emit(\"on-change\",this.departmentId)},setSelectDep:function(e,t){this.departmentId=e,this.departmentTitle=t,this.$emit(\"on-change\",this.departmentId)}},created:function(){this.initDepartmentData()}},i=n,l=(a(\"1dbc\"),a(\"2877\")),c=Object(l[\"a\"])(i,r,s,!1,null,null,null);t[\"default\"]=c.exports},dffa:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"Poptip\",{attrs:{trigger:\"hover\",title:\"图片预览\",placement:\"right\",width:\"350\"}},[a(\"Input\",{style:{width:e.width},attrs:{placeholder:\"可直接填入网络图片链接\",clearable:\"\"},on:{\"on-change\":e.handleChange},model:{value:e.picUrl,callback:function(t){e.picUrl=t},expression:\"picUrl\"}}),a(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[a(\"img\",{staticStyle:{width:\"100%\",margin:\"0 auto\",display:\"block\"},attrs:{src:e.picUrl,alt:\"暂无图片链接\"}}),a(\"a\",{staticStyle:{\"margin-top\":\"5px\",\"text-align\":\"right\",display:\"block\"},on:{click:function(t){e.viewImage=!0}}},[e._v(\"查看大图\")])])],1),a(\"Upload\",{ref:\"up\",staticClass:\"upload\",attrs:{action:e.uploadFileUrl,headers:e.accessToken,\"on-success\":e.handleSuccess,\"on-error\":e.handleError,format:[\"jpg\",\"jpeg\",\"png\",\"gif\",\"bmp\"],accept:\".jpg, .jpeg, .png, .gif, .bmp\",\"max-size\":5120,\"on-format-error\":e.handleFormatError,\"on-exceeded-size\":e.handleMaxSize,\"before-upload\":e.beforeUpload,\"show-upload-list\":!1}},[a(\"Button\",{attrs:{loading:e.loading,icon:\"ios-cloud-upload-outline\"}},[e._v(\"上传图片\")])],1),a(\"Modal\",{attrs:{title:\"图片预览\",styles:{top:\"30px\"},draggable:\"\"},model:{value:e.viewImage,callback:function(t){e.viewImage=t},expression:\"viewImage\"}},[a(\"img\",{staticStyle:{width:\"100%\",margin:\"0 auto\",display:\"block\"},attrs:{src:e.picUrl,alt:\"暂无图片链接\"}}),a(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"Button\",{on:{click:function(t){e.viewImage=!1}}},[e._v(\"关闭\")])],1)])],1)},s=[],o=a(\"365c\"),n={name:\"uploadPicInput\",props:{width:{type:String,default:\"200px\"}},data:function(){return{accessToken:{},picUrl:\"\",loading:!1,viewImage:!1,uploadFileUrl:o[\"tb\"]}},methods:{init:function(){this.accessToken={accessToken:this.getStore(\"accessToken\")}},handleFormatError:function(e){this.loading=!1,this.$Notice.warning({title:\"不支持的文件格式\",desc:\"所选文件‘ \"+e.name+\" ’格式不正确, 请选择 .jpg .jpeg .png .gif .bmp格式文件\"})},handleMaxSize:function(e){this.loading=!1,this.$Notice.warning({title:\"文件大小过大\",desc:\"所选文件‘ \"+e.name+\" ’大小过大, 不得超过 5M.\"})},beforeUpload:function(){return this.loading=!0,!0},handleSuccess:function(e,t){this.loading=!1,!0===e.success?(t.url=e.result,this.picUrl=e.result,this.$emit(\"on-change\",this.picUrl)):this.$Message.error(e.message)},handleError:function(e,t,a){this.loading=!1,this.$Message.error(t.message)},handleChange:function(e){this.$emit(\"on-change\",this.picUrl)},setPicUrl:function(e){this.picUrl=e,this.$emit(\"on-change\",this.picUrl)}},created:function(){this.init()}},i=n,l=(a(\"f57e\"),a(\"2877\")),c=Object(l[\"a\"])(i,r,s,!1,null,null,null);t[\"default\"]=c.exports},f57e:function(e,t,a){\"use strict\";var r=a(\"1b13\"),s=a.n(r);s.a},f6ba:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"search\"},[a(\"Row\",[a(\"Col\",[a(\"Card\",[a(\"Row\",[a(\"Form\",{ref:\"searchForm\",staticClass:\"search-form\",attrs:{model:e.searchForm,inline:\"\",\"label-width\":70}},[a(\"Form-item\",{attrs:{label:\"派单方式\",prop:\"isManual\"}},[a(\"Select\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"请选择\",clearable:\"\"},model:{value:e.searchForm.isManual,callback:function(t){e.$set(e.searchForm,\"isManual\",t)},expression:\"searchForm.isManual\"}},[a(\"Option\",{attrs:{value:\"-1\"}},[e._v(\"全部\")]),a(\"Option\",{attrs:{value:\"0\"}},[e._v(\"自动派单\")]),a(\"Option\",{attrs:{value:\"1\"}},[e._v(\"人工派单\")])],1)],1),a(\"Form-item\",{attrs:{label:\"订单状态\",prop:\"status\"}},[a(\"Select\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"请选择\",clearable:\"\"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,\"status\",t)},expression:\"searchForm.status\"}},[a(\"Option\",{attrs:{value:\"-1\"}},[e._v(\"全部\")]),a(\"Option\",{attrs:{value:\"0\"}},[e._v(\"待分配\")]),a(\"Option\",{attrs:{value:\"1\"}},[e._v(\"系统派单中\")]),a(\"Option\",{attrs:{value:\"2\"}},[e._v(\"已接单\")]),a(\"Option\",{attrs:{value:\"3\"}},[e._v(\"拒绝接单\")]),a(\"Option\",{attrs:{value:\"4\"}},[e._v(\"待支付\")]),a(\"Option\",{attrs:{value:\"5\"}},[e._v(\"已取消\")]),a(\"Option\",{attrs:{value:\"6\"}},[e._v(\"已完成\")]),a(\"Option\",{attrs:{value:\"7\"}},[e._v(\"已支付\")])],1)],1),a(\"Form-item\",{attrs:{label:\"订单号：\",prop:\"orderId\"}},[a(\"Input\",{staticStyle:{width:\"200px\"},attrs:{type:\"text\",clearable:\"\",placeholder:\"请输入订单号\"},model:{value:e.searchForm.orderId,callback:function(t){e.$set(e.searchForm,\"orderId\",t)},expression:\"searchForm.orderId\"}})],1),a(\"Form-item\",{attrs:{label:\"联系人：\",prop:\"contactsPhone\"}},[a(\"Input\",{staticStyle:{width:\"200px\"},attrs:{type:\"text\",clearable:\"\",placeholder:\"请输入联系人手机号\"},model:{value:e.searchForm.contactsPhone,callback:function(t){e.$set(e.searchForm,\"contactsPhone\",t)},expression:\"searchForm.contactsPhone\"}})],1),a(\"Form-item\",{attrs:{label:\"回收人：\",prop:\"phone\"}},[a(\"Input\",{staticStyle:{width:\"200px\"},attrs:{type:\"text\",clearable:\"\",placeholder:\"请输入回收人员手机号\"},model:{value:e.searchForm.phone,callback:function(t){e.$set(e.searchForm,\"phone\",t)},expression:\"searchForm.phone\"}})],1),a(\"Form-item\",{attrs:{label:\"订单类型\",prop:\"type\"}},[a(\"Select\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"请选择\",clearable:\"\"},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,\"type\",t)},expression:\"searchForm.type\"}},[a(\"Option\",{attrs:{value:\"-1\"}},[e._v(\"全部\")]),a(\"Option\",{attrs:{value:\"0\"}},[e._v(\"可再生回收\")]),a(\"Option\",{attrs:{value:\"1\"}},[e._v(\"付费回收\")]),a(\"Option\",{attrs:{value:\"2\"}},[e._v(\"运输服务\")])],1)],1),a(\"Form-item\",{attrs:{label:\"支付方式\",prop:\"payType\"}},[a(\"Select\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"请选择\",clearable:\"\"},model:{value:e.searchForm.payType,callback:function(t){e.$set(e.searchForm,\"payType\",t)},expression:\"searchForm.payType\"}},[a(\"Option\",{attrs:{value:\"-1\"}},[e._v(\"全部\")]),a(\"Option\",{attrs:{value:\"0\"}},[e._v(\"积分支付\")]),a(\"Option\",{attrs:{value:\"1\"}},[e._v(\"现金支付\")]),a(\"Option\",{attrs:{value:\"2\"}},[e._v(\"微信支付\")]),a(\"Option\",{attrs:{value:\"9\"}},[e._v(\"其他方式\")])],1)],1),a(\"Form-item\",{attrs:{label:\"预约时间\"}},[a(\"DatePicker\",{staticStyle:{width:\"200px\"},attrs:{type:\"daterange\",format:\"yyyy-MM-dd\",clearable:\"\",placeholder:\"选择起始时间\"},on:{\"on-change\":e.selectDateRange},model:{value:e.selectDate,callback:function(t){e.selectDate=t},expression:\"selectDate\"}})],1),a(\"Form-item\",{staticClass:\"br\",staticStyle:{\"margin-left\":\"-35px\"}},[a(\"Button\",{attrs:{type:\"primary\",icon:\"ios-search\"},on:{click:e.handleSearch}},[e._v(\"搜索\")]),a(\"Button\",{on:{click:e.handleReset}},[e._v(\"重置\")]),e._v(\"   \\n              \"),a(\"Badge\",{attrs:{dot:\"\",count:this.count}},[a(\"Button\",{attrs:{type:\"primary\",icon:\"ios-alarm\"},on:{click:e.getAlarmMethod}},[e._v(\"待办事项\")])],1)],1)],1)],1),a(\"Row\",[a(\"Table\",{ref:\"table\",attrs:{loading:e.loading,border:\"\",columns:e.columns,data:e.data,sortable:\"custom\"},on:{\"on-sort-change\":e.changeSort,\"on-selection-change\":e.showSelect}}),a(\"Table\",{ref:\"exportTable\",staticStyle:{display:\"none\"},attrs:{columns:e.exportColumns,data:e.exportData}})],1),a(\"Row\",{staticClass:\"page\",attrs:{type:\"flex\",justify:\"end\"}},[a(\"Page\",{attrs:{current:e.searchForm.pageNumber,total:e.total,\"page-size\":e.searchForm.pageSize,\"page-size-opts\":[10,20,50],size:\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":e.changePage,\"on-page-size-change\":e.changePageSize}})],1)],1)],1)],1),a(\"Modal\",{attrs:{title:e.modalTitle,\"mask-closable\":!1,width:500,styles:{top:\"30px\"}},model:{value:e.userModalVisible,callback:function(t){e.userModalVisible=t},expression:\"userModalVisible\"}},[a(\"Form\",{ref:\"userForm\",attrs:{model:e.userForm,\"label-width\":70,rules:e.userFormValidate}},[a(\"FormItem\",{attrs:{label:\"userId\",prop:\"userId\"}},[a(\"Input\",{attrs:{autocomplete:\"off\"},model:{value:e.userForm.userId,callback:function(t){e.$set(e.userForm,\"userId\",t)},expression:\"userForm.userId\"}})],1),a(\"FormItem\",{attrs:{label:\"type\",prop:\"type\"}},[a(\"Input\",{attrs:{autocomplete:\"off\"},model:{value:e.userForm.type,callback:function(t){e.$set(e.userForm,\"type\",t)},expression:\"userForm.type\"}})],1),0===e.modalType?a(\"FormItem\",{attrs:{label:\"recyclingPersonId\",prop:\"recyclingPersonId\",error:e.errorPass}},[a(\"Input\",{attrs:{autocomplete:\"off\"},model:{value:e.userForm.recyclingPersonId,callback:function(t){e.$set(e.userForm,\"recyclingPersonId\",t)},expression:\"userForm.recyclingPersonId\"}})],1):e._e(),a(\"FormItem\",{attrs:{label:\"联系名字\",prop:\"contactsName\"}},[a(\"Input\",{model:{value:e.userForm.contactsName,callback:function(t){e.$set(e.userForm,\"contactsName\",t)},expression:\"userForm.contactsName\"}})],1),a(\"FormItem\",{attrs:{label:\"联系手机\",prop:\"contactsPhone\"}},[a(\"Input\",{model:{value:e.userForm.contactsPhone,callback:function(t){e.$set(e.userForm,\"contactsPhone\",t)},expression:\"userForm.contactsPhone\"}})],1),a(\"FormItem\",{attrs:{label:\"联系地址\",prop:\"contactsAdderss\"}},[a(\"Input\",{model:{value:e.userForm.contactsAdderss,callback:function(t){e.$set(e.userForm,\"contactsAdderss\",t)},expression:\"userForm.contactsAdderss\"}})],1),a(\"FormItem\",{attrs:{label:\"联系楼层\",prop:\"contactsFloor\"}},[a(\"Input\",{model:{value:e.userForm.contactsFloor,callback:function(t){e.$set(e.userForm,\"contactsFloor\",t)},expression:\"userForm.contactsFloor\"}})],1),a(\"FormItem\",{attrs:{label:\"是否电梯\",prop:\"isElevatorRoom\"}},[a(\"Input\",{model:{value:e.userForm.isElevatorRoom,callback:function(t){e.$set(e.userForm,\"isElevatorRoom\",t)},expression:\"userForm.isElevatorRoom\"}})],1),a(\"FormItem\",{attrs:{label:\"联系经度\",prop:\"longitude\"}},[a(\"Input\",{model:{value:e.userForm.longitude,callback:function(t){e.$set(e.userForm,\"longitude\",t)},expression:\"userForm.longitude\"}})],1),a(\"FormItem\",{attrs:{label:\"联系维度\",prop:\"latitude\"}},[a(\"Input\",{model:{value:e.userForm.latitude,callback:function(t){e.$set(e.userForm,\"latitude\",t)},expression:\"userForm.latitude\"}})],1),a(\"FormItem\",{attrs:{label:\"里程\",prop:\"mileage\"}},[a(\"Input\",{model:{value:e.userForm.mileage,callback:function(t){e.$set(e.userForm,\"mileage\",t)},expression:\"userForm.mileage\"}})],1),a(\"FormItem\",{attrs:{label:\"预约时间\",prop:\"appointmentTime\"}},[a(\"Input\",{model:{value:e.userForm.appointmentTime,callback:function(t){e.$set(e.userForm,\"appointmentTime\",t)},expression:\"userForm.appointmentTime\"}})],1),a(\"FormItem\",{attrs:{label:\"订单号\",prop:\"orderId\"}},[a(\"Input\",{model:{value:e.userForm.orderId,callback:function(t){e.$set(e.userForm,\"orderId\",t)},expression:\"userForm.orderId\"}})],1),a(\"FormItem\",{attrs:{label:\"预估价格\",prop:\"estimatedPrice\"}},[a(\"Input\",{model:{value:e.userForm.estimatedPrice,callback:function(t){e.$set(e.userForm,\"estimatedPrice\",t)},expression:\"userForm.estimatedPrice\"}})],1),a(\"FormItem\",{attrs:{label:\"实收价格\",prop:\"paidPrice\"}},[a(\"Input\",{model:{value:e.userForm.paidPrice,callback:function(t){e.$set(e.userForm,\"paidPrice\",t)},expression:\"userForm.paidPrice\"}})],1),a(\"FormItem\",{attrs:{label:\"订单状态\",prop:\"status\"}},[a(\"Input\",{model:{value:e.userForm.status,callback:function(t){e.$set(e.userForm,\"status\",t)},expression:\"userForm.status\"}})],1),a(\"FormItem\",{attrs:{label:\"人工派单\",prop:\"isManual\"}},[a(\"Input\",{model:{value:e.userForm.isManual,callback:function(t){e.$set(e.userForm,\"isManual\",t)},expression:\"userForm.isManual\"}})],1)],1),a(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"Button\",{attrs:{type:\"text\"},on:{click:e.cancelUser}},[e._v(\"取消\")]),a(\"Button\",{attrs:{type:\"primary\",loading:e.submitLoading},on:{click:e.submitUser}},[e._v(\"提交\")])],1)],1),a(\"Modal\",{staticClass:\"modalClass\",attrs:{title:\"待办事项\",width:500},model:{value:e.alarmModalVisible,callback:function(t){e.alarmModalVisible=t},expression:\"alarmModalVisible\"}},[a(\"i-circle\",{attrs:{size:300,\"trail-width\":5,\"stroke-width\":5,percent:this.allCount/this.orderCount*100,\"stroke-linecap\":\"square\",\"stroke-color\":\"#43a3fb\",\"trail-color\":\"#E52912\"}},[a(\"div\",{staticClass:\"alarm\"},[a(\"h1\",[e._v(e._s(this.manualCount))]),a(\"p\",[e._v(\"个订单需要人工派单\")]),a(\"span\",[a(\"b\",[e._v(e._s(this.allCount))]),e._v(\"个订单尚未接单\\n        \")]),a(\"span\",[e._v(\"\\n          总订单数:\\n          \"),a(\"b\",[e._v(e._s(this.orderCount))])])])])],1)],1)},s=[],o=a(\"b30f\"),n=a(\"365c\"),i=a(\"a79f\"),l=a(\"59ec\"),c=a(\"dd85\"),u=a(\"dffa\"),d=a(\"33f4\"),p={name:\"user-manage\",components:{circleLoading:d[\"default\"],expandRow:i[\"default\"],departmentChoose:l[\"default\"],departmentTreeChoose:c[\"default\"],uploadPicInput:u[\"default\"]},data:function(){var e=this,t=function(e,t,a){var r=/^[1][3,4,5,7,8][0-9]{9}$/;r.test(t)?a():a(new Error(\"手机号格式错误\"))};return{orderCount:0,count:0,manualCount:0,allCount:0,alarmModalVisible:!1,pStyle:{fontSize:\"16px\",color:\"rgba(0,0,0,0.85)\",lineHeight:\"24px\",display:\"block\",marginBottom:\"16px\"},loading:!0,operationLoading:!1,loadingExport:!0,modalExportAll:!1,drop:!1,selectCount:0,selectList:[],dataDep:[],searchKey:\"\",searchForm:{isManual:-1,payType:-1,phone:\"\",orderId:\"\",type:-1,contactsPhone:\"\",status:-1,pageNumber:1,pageSize:10,sort:\"createTime\",order:\"desc\",startDate:\"\",endDate:\"\"},selectDate:null,modalType:0,userModalVisible:!1,modalTitle:\"\",userForm:{appointmentDay:\"\",appointmentStartTime:\"\",appointmentEndTime:\"\",userId:\"\",type:-1,recyclingPersonId:\"\",contactsName:\"\",contactsPhone:\"\",contactsAdderss:\"\",contactsFloor:0,isElevatorRoom:-1,longitude:0,latitude:0,mileage:0,orderId:\"\",estimatedPrice:0,paidPrice:0,status:-1,payType:-1,isManual:-1},userRoles:[],roleList:[],errorPass:\"\",userFormValidate:{username:[{required:!0,message:\"账号不能为空\",trigger:\"blur\"}],mobile:[{required:!0,message:\"手机号不能为空\",trigger:\"blur\"},{validator:t,trigger:\"blur\"}],email:[{required:!0,message:\"请输入邮箱地址\"},{type:\"email\",message:\"邮箱格式不正确\"}]},submitLoading:!1,columns:[{type:\"expand\",width:50,fixed:\"left\",render:function(e,t){return e(i[\"default\"],{props:{row:t.row}})}},{type:\"index\",width:80,align:\"center\",fixed:\"left\",title:\"序号\"},{title:\"订单号\",align:\"center\",key:\"orderId\",minWidth:145,sortable:!0,fixed:\"left\"},{title:\"下单时间\",align:\"center\",key:\"createTime\",minWidth:145,sortable:!0,fixed:\"left\"},{title:\"订单类型\",key:\"type\",minWidth:145,sortable:!0,align:\"center\",fixed:\"left\",render:function(e,t){var a=\"\";return 0===t.row.type?a=\"可再生回收\":1===t.row.type?a=\"付费回收\":2===t.row.type&&(a=\"运输服务\"),e(\"div\",a)}},{title:\"人工派单\",key:\"isManual\",align:\"center\",minWidth:145,sortable:!0,fixed:\"left\",render:function(e,t){var a=\"\";return 0===t.row.isManual?a=\"否\":1===t.row.isManual&&(a=\"是\"),e(\"div\",a)}},{title:\"预约时间\",key:\"appointmentTimeStr\",align:\"center\",minWidth:145,sortable:!0,fixed:\"left\"},{title:\"支付方式\",key:\"payType\",align:\"center\",minWidth:145,sortable:!0,fixed:\"left\",render:function(e,t){var a=\"\";return 0===t.row.payType?a=\"积分支付\":1===t.row.payType?a=\"现金支付\":2===t.row.payType?a=\"微信支付\":9===t.row.payType?a=\"其他\":null==t.row.payType&&(a=\"暂无\"),e(\"div\",a)}},{title:\"订单状态\",align:\"center\",key:\"status\",minWidth:145,sortable:!0,fixed:\"left\",render:function(e,t){var a=\"\",r=\"\";return 0===t.row.status?(a=\"待分配\",r=\"#2575EC\"):1===t.row.status?(a=\"系统派单中\",r=\"\\t#DAA520\"):2===t.row.status?(a=\"已接单\",r=\"#DAA520\"):3===t.row.status?(a=\"拒绝接单\",r=\"#E52812\"):4===t.row.status?(a=\"待支付\",r=\"#3CB371\"):5===t.row.status?(a=\"已取消\",r=\"#D3D3D3\"):6===t.row.status?(a=\"已完成\",r=\"#77C955\"):7===t.row.status&&(a=\"已支付\",r=\"#556B2F\"),e(\"div\",{style:{color:r}},a)}},{title:\"操作\",key:\"action\",width:200,align:\"center\",fixed:\"right\",render:function(t,a){var r=\"\";return t(\"div\",[t(\"Button\",{props:{type:\"primary\",size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(){e.orderDetail(a.row)}}},\"订单详情\"),r,t(\"Button\",{props:{type:\"error\",size:\"small\"},on:{click:function(){5!=a.row.status&&6!=a.row.status?e.cancelOrder(a.row):5===a.row.status?e.$Message.error(\"操作无效,该订单已经被取消!\"):e.$Message.error(\"操作无效,该订单已经完成!\")}}},\"取消订单\")])}}],exportColumns:[{title:\"用户名\",key:\"username\"},{title:\"头像\",key:\"avatar\"},{title:\"所属部门ID\",key:\"departmentId\"},{title:\"所属部门\",key:\"departmentTitle\"},{title:\"手机\",key:\"mobile\"},{title:\"邮箱\",key:\"email\"},{title:\"性别\",key:\"sex\"},{title:\"用户类型\",key:\"type\"},{title:\"状态\",key:\"status\"},{title:\"删除标志\",key:\"delFlag\"},{title:\"创建时间\",key:\"createTime\"},{title:\"更新时间\",key:\"updateTime\"}],data:[],exportData:[],total:0,dictSex:[]}},methods:{isAlarm:function(e){for(var t=0;t<e.length;t++)if(1==e[t].isManual&&(0==e[t].status||0==e[t].status)){this.count=1;break}},getAlarmMethod:function(){var e=this;this.alarmModalVisible=!0,Object(o[\"e\"])().then(function(t){!0===t.success&&(e.orderCount=t.result.orderCount,e.allCount=t.result.allCount,e.manualCount=t.result.manualCount)})},init:function(){this.getUserList(),this.getDictSexData()},getDictSexData:function(){var e=this;Object(n[\"S\"])(\"sex\").then(function(t){t.success&&(e.dictSex=t.result)})},handleSelectDepTree:function(e){this.userForm.departmentId=e[0]},handleSelectDep:function(e){this.searchForm.departmentId=e},changePage:function(e){this.searchForm.pageNumber=e,this.getUserList(),this.clearSelectAll()},changePageSize:function(e){this.searchForm.pageSize=e,this.getUserList()},selectDateRange:function(e){e&&(this.searchForm.startDate=e[0],this.searchForm.endDate=e[1])},getUserList:function(){var e=this;this.loading=!0,this.searchForm.type||(this.searchForm.type=-1),this.searchForm.status||(this.searchForm.status=-1),this.searchForm.payType||(this.searchForm.payType=-1),Object(o[\"f\"])(this.searchForm).then(function(t){e.loading=!1,!0===t.success&&(e.data=t.result.records,e.isAlarm(t.result.records),e.total=t.result.total)})},handleSearch:function(){this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getUserList()},handleReset:function(){this.$refs.searchForm.resetFields(),this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.selectDate=null,this.searchForm.startDate=\"\",this.searchForm.endDate=\"\",this.selectDep=[],this.searchForm.departmentId=\"\",this.getUserList()},changeSort:function(e){this.searchForm.sort=e.key,this.searchForm.order=e.order,\"normal\"===e.order&&(this.searchForm.order=\"\"),this.getUserList()},getRoleList:function(){var e=this;Object(n[\"P\"])().then(function(t){!0===t.success&&(e.roleList=t.result)})},handleDropdown:function(e){var t=this;if(\"refresh\"===e)this.getUserList();else if(\"exportData\"===e){if(this.selectCount<=0)return void this.$Message.warning(\"您还未选择要导出的数据\");this.$Modal.confirm({title:\"确认导出\",content:\"您确认要导出所选 \"+this.selectCount+\" 条数据?\",onOk:function(){t.$refs.exportTable.exportCsv({filename:\"用户数据\"})}})}else\"exportAll\"===e?this.modalExportAll=!0:\"importData\"===e&&this.$Modal.info({title:\"暂未开发\",content:\"请期待\"})},exportAll:function(){var e=this;o[\"f\"].then(function(t){e.modalExportAll=!1,t.success&&(e.exportData=t.result,setTimeout(function(){e.$refs.exportTable.exportCsv({filename:\"用户全部数据\"})},1e3))})},cancelUser:function(){this.userModalVisible=!1},submitUser:function(){var e=this;this.$refs.userForm.validate(function(t){t&&(0===e.modalType?(delete e.userForm.id,delete e.userForm.status,e.submitLoading=!0,Object(o[\"a\"])(e.userForm).then(function(t){e.submitLoading=!1,!0===t.success&&(e.$Message.success(\"操作成功\"),e.getUserList(),e.userModalVisible=!1)})):(e.submitLoading=!0,editUser(e.userForm).then(function(t){e.submitLoading=!1,!0===t.success&&(e.$Message.success(\"操作成功\"),e.getUserList(),e.userModalVisible=!1)})))})},handleUpload:function(e){this.userForm.avatar=e},orderDetail:function(e){this.$router.push({name:\"order-detail-manage\",query:{orderData:e}})},cancelOrder:function(e){var t=this;this.$Modal.confirm({title:\"确认取消\",content:\"您确认要取消订单 \"+e.orderId+\" ?\",onOk:function(){Object(o[\"b\"])(e).then(function(e){t.operationLoading=!0,!0===e.success&&(t.operationLoading=!1,t.$Message.success(e.message),t.getUserList())})}})},showSelect:function(e){this.exportData=e,this.selectList=e,this.selectCount=e.length},clearSelectAll:function(){this.$refs.table.selectAll(!1)},delAll:function(){var e=this;this.selectCount<=0?this.$Message.warning(\"您还未选择要删除的数据\"):this.$Modal.confirm({title:\"确认删除\",content:\"您确认要删除所选的 \"+this.selectCount+\" 条数据?\",onOk:function(){var t=\"\";e.selectList.forEach(function(e){t+=e.id+\",\"}),t=t.substring(0,t.length-1),e.operationLoading=!0,Object(o[\"c\"])(t).then(function(t){e.operationLoading=!1,!0===t.success&&(e.$Message.success(\"删除成功\"),e.clearSelectAll(),e.getUserList())})}})}},mounted:function(){this.init(),this.getRoleList()}},m=p,h=(a(\"aa8f\"),a(\"3651\"),a(\"2877\")),f=Object(h[\"a\"])(m,r,s,!1,null,null,null);t[\"default\"]=f.exports},fb9f:function(e,t,a){\"use strict\";var r=a(\"392c\"),s=a.n(r);s.a}}]);","extractedComments":[]}