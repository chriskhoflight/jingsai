{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-33262e70\"],{\"1af3\":function(e,t,s){\"use strict\";var r=s(\"412c\"),o=s.n(r);o.a},\"412c\":function(e,t,s){},dc3f:function(e,t,s){\"use strict\";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"Row\",{staticClass:\"login\",attrs:{type:\"flex\",justify:\"center\",align:\"middle\"},nativeOn:{keydown:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.submitLogin(t)}}},[s(\"div\",{staticClass:\"login-con\"},[s(\"Card\",{attrs:{icon:\"log-in\",title:\"欢迎登录\",bordered:!1}},[e.error?s(\"Alert\",{attrs:{type:\"error\",\"show-icon\":\"\"}},[e._v(e._s(e.errorMsg))]):e._e(),s(\"Row\",{staticClass:\"login-form\"},[s(\"Form\",{ref:\"usernameLoginForm\",staticClass:\"form\",attrs:{model:e.form,rules:e.rules}},[s(\"FormItem\",{attrs:{prop:\"username\"}},[s(\"Input\",{attrs:{prefix:\"ios-contact\",size:\"large\",clearable:\"\",placeholder:\"请输入用户名\",autocomplete:\"off\"},model:{value:e.form.username,callback:function(t){e.$set(e.form,\"username\",t)},expression:\"form.username\"}})],1),s(\"FormItem\",{attrs:{prop:\"password\"}},[s(\"Input\",{attrs:{type:\"password\",prefix:\"ios-lock\",size:\"large\",clearable:\"\",placeholder:\"请输入密码\",autocomplete:\"off\"},model:{value:e.form.password,callback:function(t){e.$set(e.form,\"password\",t)},expression:\"form.password\"}})],1)],1),s(\"Row\",{staticClass:\"code-row-bg\",attrs:{type:\"flex\",justify:\"space-between\"}},[s(\"Checkbox\",{attrs:{size:\"large\"},model:{value:e.saveLogin,callback:function(t){e.saveLogin=t},expression:\"saveLogin\"}},[e._v(\"自动登录\")])],1),s(\"Row\",[s(\"Button\",{staticClass:\"login-btn\",attrs:{type:\"primary\",size:\"large\",loading:e.loading,long:\"\"},on:{click:e.submitLogin}},[e.loading?s(\"span\",[e._v(\"登录中...\")]):s(\"span\",[e._v(\"登录\")])])],1)],1)],1)],1)])},o=[],n=s(\"a78e\"),a=s.n(n),i=s(\"365c\"),u=s(\"c276\"),l={data:function(){return{error:!1,errorMsg:\"\",tabName:\"username\",saveLogin:!0,loading:!1,sending:!1,sended:!1,count:60,countButton:\"60 s\",maxLength:6,errorCode:\"\",form:{username:\"\",password:\"\"},rules:{username:[{required:!0,message:\"账号不能为空\",trigger:\"blur\"}],password:[{required:!0,message:\"密码不能为空\",trigger:\"blur\"}]}}},methods:{showErrorMsg:function(e){this.error=!0,this.errorMsg=e},countDown:function(){var e=this;if(0===this.count)return this.sended=!1,void(this.count=60);this.countButton=this.count+\" s\",this.count--,setTimeout(function(){e.countDown()},1e3)},submitLogin:function(){var e=this;\"username\"===this.tabName&&this.$refs.usernameLoginForm.validate(function(t){t&&(e.loading=!0,Object(i[\"ib\"])({username:e.form.username,password:e.form.password,saveLogin:e.saveLogin}).then(function(t){!0===t.success?(e.setStore(\"accessToken\",t.result),Object(i[\"ub\"])().then(function(t){if(!0===t.success){delete t.result.permissions;var s=[];t.result.roles.forEach(function(e){s.push(e.name)}),e.setStore(\"roles\",s),e.saveLogin?a.a.set(\"userInfo\",JSON.stringify(t.result),{expires:7}):a.a.set(\"userInfo\",JSON.stringify(t.result)),e.setStore(\"userInfo\",t.result),e.$store.commit(\"setAvatarPath\",t.result.avatar),u[\"a\"].initRouter(e),e.$router.push({name:\"home_index\"})}else e.loading=!1})):e.loading=!1}))})},relatedLogin:function(){},handleDropDown:function(e){}},mounted:function(){}},c=l,f=(s(\"1af3\"),s(\"2877\")),m=Object(f[\"a\"])(c,r,o,!1,null,null,null);t[\"default\"]=m.exports}}]);","extractedComments":[]}