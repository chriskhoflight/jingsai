{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-d9d973da\"],{\"257e\":function(t,e,a){\"use strict\";a.d(e,\"f\",function(){return n}),a.d(e,\"e\",function(){return s}),a.d(e,\"g\",function(){return i}),a.d(e,\"h\",function(){return o}),a.d(e,\"n\",function(){return c}),a.d(e,\"m\",function(){return l}),a.d(e,\"l\",function(){return u}),a.d(e,\"k\",function(){return d}),a.d(e,\"d\",function(){return h}),a.d(e,\"c\",function(){return g}),a.d(e,\"i\",function(){return f}),a.d(e,\"b\",function(){return p}),a.d(e,\"a\",function(){return m}),a.d(e,\"j\",function(){return w});var r=a(\"7f80\"),n=function(t){return Object(r[\"b\"])(\"/integrals/getIntegralList\",t)},s=function(t){return Object(r[\"b\"])(\"/integralDetails/getIntegralDetailsList\",t)},i=function(t){return Object(r[\"b\"])(\"/integralRecharge/getIntegralRechargeDetailsList\",t)},o=function(t){return Object(r[\"b\"])(\"/integralWithdrawal/getIntegralWithdrawalDetailsList\",t)},c=function(t){return Object(r[\"c\"])(\"/integralWithdrawal/integralWithdrawalVeryfyPassed\",t)},l=function(t){return Object(r[\"c\"])(\"/integralWithdrawal/integralWithdrawalVeryfyNotPassed\",t)},u=function(t){return Object(r[\"c\"])(\"/integralWithdrawal/integralDetailVeryfyPassed\",t)},d=function(t){return Object(r[\"c\"])(\"/integralWithdrawal/integralDetailVeryfyNotPassed\",t)},h=function(t,e){return Object(r[\"c\"])(\"/integralWithdrawal/detailbatchPassed/\".concat(t),e)},g=function(t,e){return Object(r[\"c\"])(\"/integralWithdrawal/detailbatchNotPassed/\".concat(t),e)},f=function(t){return Object(r[\"b\"])(\"/integralWithdrawal/getIntegralWithdrawalList\",t)},p=function(t,e){return Object(r[\"c\"])(\"/integralWithdrawal/batchPassed/\".concat(t),e)},m=function(t,e){return Object(r[\"c\"])(\"/integralWithdrawal/batchNotPassed/\".concat(t),e)},w=function(t){return Object(r[\"c\"])(\"/integralWithdrawal/handPaied/\".concat(t))}},\"4ea1\":function(t,e,a){\"use strict\";var r=a(\"8d89\"),n=a.n(r);n.a},\"8d89\":function(t,e,a){},\"9fd7\":function(t,e,a){\"use strict\";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"search\"},[a(\"Row\",[a(\"Col\",[a(\"Card\",[a(\"Row\",[a(\"Form\",{ref:\"searchForm\",staticClass:\"search-form\",attrs:{model:t.searchForm,inline:\"\",\"label-width\":80}},[a(\"Form-item\",{attrs:{label:\"人员类型\",prop:\"who\"}},[a(\"Select\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"请选择人员类型\"},on:{\"on-change\":t.handleWho},model:{value:t.searchForm.who,callback:function(e){t.$set(t.searchForm,\"who\",e)},expression:\"searchForm.who\"}},[a(\"Option\",{attrs:{value:2}},[t._v(\"用户\")]),a(\"Option\",{attrs:{value:0}},[t._v(\"回收人员\")])],1)],1),a(\"Form-item\",{attrs:{label:\"用户名\",prop:\"username\"}},[a(\"Input\",{staticStyle:{width:\"200px\"},attrs:{type:\"text\",clearable:\"\",placeholder:\"请输入用户名\"},model:{value:t.searchForm.username,callback:function(e){t.$set(t.searchForm,\"username\",\"string\"===typeof e?e.trim():e)},expression:\"searchForm.username\"}})],1),a(\"Form-item\",{attrs:{label:\"提现进度\",prop:\"status\"}},[a(\"Select\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"请选择\",clearable:\"\"},model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,\"status\",e)},expression:\"searchForm.status\"}},[a(\"Option\",{attrs:{value:0}},[t._v(\"待审核\")]),a(\"Option\",{attrs:{value:1}},[t._v(\"已通过\")]),a(\"Option\",{attrs:{value:2}},[t._v(\"不通过\")]),a(\"Option\",{attrs:{value:3}},[t._v(\"已系统转账\")]),a(\"Option\",{attrs:{value:4}},[t._v(\"系统转账失败\")]),a(\"Option\",{attrs:{value:5}},[t._v(\"已人工转账\")])],1)],1),a(\"Form-item\",{attrs:{label:\"创建时间\"}},[a(\"DatePicker\",{staticStyle:{width:\"200px\"},attrs:{type:\"daterange\",format:\"yyyy-MM-dd\",clearable:\"\",placeholder:\"选择起始时间\"},on:{\"on-change\":t.selectDateRange},model:{value:t.selectDate,callback:function(e){t.selectDate=e},expression:\"selectDate\"}})],1),a(\"Form-item\",{staticClass:\"br\",staticStyle:{\"margin-left\":\"-35px\"}},[a(\"Button\",{attrs:{type:\"primary\",icon:\"ios-search\"},on:{click:t.handleSearch}},[t._v(\"搜索\")]),a(\"Button\",{on:{click:t.handleReset}},[t._v(\"重置\")])],1)],1)],1),a(\"Row\",{staticClass:\"operation\"},[a(\"Button\",{attrs:{type:\"success\",icon:\"md-checkmark\"},on:{click:t.batchPassedData}},[t._v(\"批量通过\")]),a(\"Button\",{attrs:{type:\"error\",icon:\"md-close\"},on:{click:t.batchNotPassedData}},[t._v(\"批量不通过\")]),t.operationLoading?a(\"circleLoading\"):t._e()],1),a(\"Row\",[a(\"Alert\",{attrs:{\"show-icon\":\"\"}},[t._v(\"\\n            已选择\\n            \"),a(\"span\",{staticClass:\"select-count\"},[t._v(t._s(t.selectCount))]),t._v(\" 项\\n            \"),a(\"a\",{staticClass:\"select-clear\",on:{click:t.clearSelectAll}},[t._v(\"清空\")])])],1),a(\"Row\",[a(\"Table\",{ref:\"table\",attrs:{loading:t.loading,border:\"\",columns:t.wxUserColumns,data:t.wxUserData,sortable:\"custom\"},on:{\"on-sort-change\":t.changeSort,\"on-selection-change\":t.showSelect}})],1),a(\"Row\",{staticClass:\"page\",attrs:{type:\"flex\",justify:\"end\"}},[a(\"Page\",{attrs:{current:t.searchForm.pageNumber,total:t.total,\"page-size\":t.searchForm.pageSize,\"page-size-opts\":[10,20,50],size:\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":t.changePage,\"on-page-size-change\":t.changePageSize}})],1)],1)],1)],1)],1)},n=[],s=a(\"257e\"),i=a(\"33f4\"),o=(a(\"1c46\"),{name:\"withdrawalManage\",components:{circleLoading:i[\"default\"]},data:function(){var t=this;return{verifyForm:{description:\"\",who:2},des:\"\",operationLoading:!1,selectCount:0,loading:!1,searchForm:{who:2,username:\"\",status:\"\",pageNumber:1,pageSize:10,sort:\"createTime\",order:\"desc\",startDate:\"\",endDate:\"\"},selectDate:null,wxUserColumns:[{type:\"selection\",width:60,align:\"center\",fixed:\"left\"},{title:\"序号\",type:\"index\",width:70,align:\"center\",fixed:\"left\"},{title:\"人员类型\",key:\"who\",minWidth:145,align:\"center\",render:function(t,e){return 2===e.row.who?t(\"div\",\"用户\"):t(\"div\",\"回收人员\")}},{title:\"用户名\",key:\"username\",width:110,sortable:!0,fixed:\"left\"},{title:\"手机号\",key:\"phone\",minWidth:145,tooltip:!0,align:\"center\",render:function(t,e){return null===e.row.phone||void 0===e.row.phone||\"\"===e.row.phone?t(\"div\",\"用户未填写手机号\"):t(\"div\",e.row.phone)}},{title:\"提现金额\",key:\"amount\",width:110,sortable:!0},{title:\"消费积分\",key:\"integral\",width:110,sortable:!0},{title:\"提现进度\",key:\"status\",fixed:\"right\",minWidth:135,sortable:!0,render:function(t,e){return 0===e.row.status||null===e.row.status?t(\"div\",[t(\"tag\",{props:{type:\"border\",color:\"default\"}},\"待审核\")]):1===e.row.status?t(\"div\",[t(\"tag\",{props:{type:\"border\",color:\"success\"}},\"已通过\")]):2===e.row.status?t(\"div\",[t(\"tag\",{props:{type:\"border\",color:\"error\"}},\"不通过\")]):3===e.row.status?t(\"div\",[t(\"tag\",{props:{type:\"border\",color:\"success\"}},\"已系统转账\")]):4===e.row.status?t(\"div\",[t(\"tag\",{props:{type:\"border\",color:\"error\"}},\"系统转账失败\")]):5===e.row.status?t(\"div\",[t(\"tag\",{props:{type:\"border\",color:\"success\"}},\"已人工转账\")]):void 0}},{title:\"用户申请提现备注\",key:\"remark\",minWidth:145,tooltip:!0},{title:\"提现申请审核备注\",key:\"description\",minWidth:145,tooltip:!0},{title:\"创建时间\",key:\"createTime\",sortable:!0,sortType:\"desc\",width:150},{title:\"提现审核\",key:\"action\",minWidth:300,align:\"center\",fixed:\"right\",render:function(e,a){return 2===a.row.status?e(\"div\",[e(\"tag\",\"审核不通过\")]):3===a.row.status?e(\"div\",[e(\"tag\",\"已系统转账\")]):5===a.row.status?e(\"div\",[e(\"tag\",\"已人工转账\")]):1===a.row.status||4===a.row.status?e(\"div\",[e(\"Button\",{props:{type:\"primary\",size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(){t.handPaiedData(a.row.id)}}},\"人工转账\")]):e(\"div\",[e(\"Button\",{props:{type:\"primary\",size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(){t.veryfyPassed(a.row)}}},\"通过\"),e(\"Button\",{props:{type:\"error\",size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(){t.veryfyNotPassed(a.row)}}},\"不通过\")])}}],wxUserData:[],total:0}},methods:{handPaiedData:function(t){var e=this;this.$Modal.confirm({title:\"确认人工转账\",onOk:function(){Object(s[\"j\"])(t).then(function(t){t.success?(e.$Message.success(\"操作成功\"),e.getIntegralWithdrawalListData()):(e.$Message.warning(\"操作失败\"),e.getIntegralWithdrawalListData())})}})},clearSelectAll:function(){this.$refs.table.selectAll(!1)},batchPassedData:function(){var t=this;if(this.selectCount<=0)this.$Message.warning(\"您还未选择要审核的数据\");else{var e=!1;this.selectList.forEach(function(t){if(0!==t.status)return e=!0,!1}),e?this.$Message.warning(\"您选择了已被审核的数据，不能重复审核\"):this.$Modal.confirm({title:\"确认审核\",render:function(e){return e(\"Input\",{props:{value:\"\",autofocus:!0,placeholder:\"请输入审核备注...\"},on:{input:function(e){t.verifyForm.description=e}}})},onOk:function(){if(\"\"!==t.verifyForm.description&&void 0!==t.verifyForm.description&&null!==t.verifyForm.description){var e=\"\";t.selectList.forEach(function(t){e+=t.id+\",\"}),t.verifyForm.who=t.searchForm.who,e=e.substring(0,e.length-1),Object(s[\"b\"])(e,t.verifyForm).then(function(e){e.success?(t.$Message.success(\"审核成功\"),t.clearSelectAll(),t.getIntegralWithdrawalListData()):(t.$Message.success(\"审核失败\"),t.clearSelectAll(),t.getIntegralWithdrawalListData())})}else t.$Message.warning(\"提交审核时，备注必须填写\")}})}},batchNotPassedData:function(){var t=this;if(this.selectCount<=0)this.$Message.warning(\"您还未选择要审核的数据\");else{var e=!1;this.selectList.forEach(function(t){if(0!==t.status)return e=!0,!1}),e?this.$Message.warning(\"您选择了已被审核的数据，不能重复审核\"):this.$Modal.confirm({title:\"确认审核\",render:function(e){return e(\"Input\",{props:{value:\"\",autofocus:!0,placeholder:\"请输入审核备注...\"},on:{input:function(e){t.verifyForm.description=e}}})},onOk:function(){if(\"\"!==t.verifyForm.description&&void 0!==t.verifyForm.description&&null!==t.verifyForm.description){var e=\"\";t.selectList.forEach(function(t){e+=t.id+\",\"}),t.verifyForm.who=t.searchForm.who,e=e.substring(0,e.length-1),Object(s[\"a\"])(e,t.verifyForm).then(function(e){e.success?(t.$Message.success(\"审核成功\"),t.clearSelectAll(),t.getIntegralWithdrawalListData()):(t.$Message.success(\"审核失败\"),t.clearSelectAll(),t.getIntegralWithdrawalListData())})}else t.$Message.warning(\"提交审核时，备注必须填写\")}})}},showSelect:function(t){this.selectList=t,this.selectCount=t.length},handleWho:function(){this.getIntegralWithdrawalListData()},veryfyPassed:function(t){var e=this;this.$Modal.confirm({title:\"确认审核\",render:function(t){return t(\"Input\",{props:{value:\"\",autofocus:!0,placeholder:\"请输入审核备注...\"},on:{input:function(t){e.des=t}}})},onOk:function(){\"\"!==e.des&&void 0!==e.des&&null!==e.des?(t.description=e.des,Object(s[\"n\"])(t).then(function(t){t.success?(e.$Message.success(\"审核已完成\"),e.getIntegralWithdrawalListData()):(e.$Message.warning(\"审核失败\"),e.getIntegralWithdrawalListData()),e.des=\"\"})):e.$Message.warning(\"提交审核时，备注必须填写\")}})},veryfyNotPassed:function(t){var e=this;this.$Modal.confirm({title:\"确认审核\",render:function(t){return t(\"Input\",{props:{value:\"\",autofocus:!0,placeholder:\"请输入审核备注...\"},on:{input:function(t){e.des=t}}})},onOk:function(){\"\"!==e.des&&void 0!==e.des&&null!==e.des?(t.description=e.des,Object(s[\"m\"])(t).then(function(t){t.success?(e.$Message.success(\"审核已完成\"),e.getIntegralWithdrawalListData()):(e.$Message.warning(\"审核失败\"),e.getIntegralWithdrawalListData()),e.des=\"\"})):e.$Message.warning(\"提交审核时，备注必须填写\")}})},back:function(){window.history.back()},getIntegralWithdrawalListData:function(){var t=this;this.loading=!0,Object(s[\"i\"])(this.searchForm).then(function(e){t.loading=!1,e.success&&(t.wxUserData=e.result.records,t.total=e.result.total)})},changePage:function(t){this.searchForm.pageNumber=t,this.getIntegralWithdrawalListData(),this.clearSelectAll()},changePageSize:function(t){this.searchForm.pageSize=t,this.getIntegralWithdrawalListData()},selectDateRange:function(t){t&&(this.searchForm.startDate=t[0],this.searchForm.endDate=t[1])},handleSearch:function(){this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getIntegralWithdrawalListData()},handleReset:function(){this.$refs.searchForm.resetFields(),this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.selectDate=null,this.searchForm.startDate=\"\",this.searchForm.endDate=\"\",this.getIntegralWithdrawalListData()},changeSort:function(t){this.searchForm.sort=t.key,this.searchForm.order=t.order,\"normal\"===t.order&&(this.searchForm.order=\"\")}},watch:{\"$route.name\":function(t,e){\"integral-manage\"===e&&\"withdrawalDetails\"===t||this.getIntegralWithdrawalListData()}},mounted:function(){this.getIntegralWithdrawalListData()}}),c=o,l=(a(\"4ea1\"),a(\"2877\")),u=Object(l[\"a\"])(c,r,n,!1,null,null,null);e[\"default\"]=u.exports}}]);","extractedComments":[]}