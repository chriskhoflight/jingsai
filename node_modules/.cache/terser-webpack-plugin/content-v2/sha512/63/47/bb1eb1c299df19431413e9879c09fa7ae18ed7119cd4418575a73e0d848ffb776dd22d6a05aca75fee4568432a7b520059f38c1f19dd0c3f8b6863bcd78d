{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2ccbc37c\",\"chunk-54450d9a\",\"chunk-2ec6664f\",\"chunk-6a35c6f6\",\"chunk-f480a832\",\"chunk-2d0c9b38\"],{\"113c\":function(t,e,n){t.exports=n.p+\"static/img/default.dc5810c9.png\"},\"1a5e\":function(t,e,n){},\"1b13\":function(t,e,n){},\"1dbc\":function(t,e,n){\"use strict\";var r=n(\"ab57\"),a=n.n(r);a.a},2232:function(t,e,n){\"use strict\";var r=n(\"9d93\"),a=n.n(r);a.a},\"33f4\":function(t,e,n){\"use strict\";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticStyle:{display:\"inline-block\"}},[n(\"Icon\",{staticClass:\"spin-icon-load\",attrs:{type:\"ios-loading\",size:\"18\",color:\"#2d8cf0\"}})],1)},a=[],s={name:\"circleLoading\"},i=s,o=(n(\"2232\"),n(\"2877\")),l=Object(o[\"a\"])(i,r,a,!1,null,null,null);e[\"default\"]=l.exports},\"59ec\":function(t,e,n){\"use strict\";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"Cascader\",{style:{width:t.width},attrs:{data:t.department,\"load-data\":t.loadData,\"change-on-select\":\"\",filterable:\"\",clearable:\"\",placeholder:\"请选择或输入搜索部门\"},on:{\"on-change\":t.handleChangeDep},model:{value:t.selectDep,callback:function(e){t.selectDep=e},expression:\"selectDep\"}})],1)},a=[],s=n(\"365c\"),i={name:\"departmentChoose\",props:{width:{type:String,default:\"200px\"}},data:function(){return{selectDep:[],department:[]}},methods:{initDepartmentData:function(){var t=this;Object(s[\"gb\"])().then(function(e){!0===e.success&&(e.result.forEach(function(t){t.isParent?(t.value=t.id,t.label=t.title,t.loading=!1,t.children=[]):(t.value=t.id,t.label=t.title),-1===t.status&&(t.label=\"[已禁用] \"+t.label,t.disabled=!0)}),t.department=e.result)})},loadData:function(t,e){t.loading=!0,Object(s[\"hb\"])(t.value).then(function(n){t.loading=!1,!0===n.success&&(n.result.forEach(function(t){t.isParent?(t.value=t.id,t.label=t.title,t.loading=!1,t.children=[]):(t.value=t.id,t.label=t.title),-1===t.status&&(t.label=\"[已禁用] \"+t.label,t.disabled=!0)}),t.children=n.result,e())})},handleChangeDep:function(t,e){var n=\"\";t&&t.length>0&&(n=t[t.length-1]),this.$emit(\"on-select\",n)},clearSelect:function(){this.selectDep=[]}},created:function(){this.initDepartmentData()}},o=i,l=n(\"2877\"),c=Object(l[\"a\"])(o,r,a,!1,null,null,null);e[\"default\"]=c.exports},\"6e75\":function(t,e,n){\"use strict\";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"search\"},[n(\"Row\",[n(\"Col\",[n(\"Card\",[n(\"Row\",[n(\"Form\",{ref:\"searchForm\",staticClass:\"search-form\",attrs:{model:t.searchForm,inline:\"\",\"label-width\":70}},[n(\"Form-item\",{attrs:{label:\"用户姓名\",prop:\"name\"}},[n(\"Input\",{staticStyle:{width:\"200px\"},attrs:{type:\"text\",clearable:\"\",placeholder:\"请输入姓名\"},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,\"name\",e)},expression:\"searchForm.name\"}})],1),t.drop?n(\"span\",[n(\"Form-item\",{attrs:{label:\"手机号\",prop:\"phone\"}},[n(\"Input\",{staticStyle:{width:\"200px\"},attrs:{type:\"text\",clearable:\"\",placeholder:\"请输入手机号\"},model:{value:t.searchForm.phone,callback:function(e){t.$set(t.searchForm,\"phone\",e)},expression:\"searchForm.phone\"}})],1),n(\"Form-item\",{attrs:{label:\"用户类型\",prop:\"type\"}},[n(\"Select\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"请选择\",clearable:\"\"},model:{value:t.searchForm.type,callback:function(e){t.$set(t.searchForm,\"type\",e)},expression:\"searchForm.type\"}},[n(\"Option\",{attrs:{value:\"0\"}},[t._v(\"社会回收人员\")]),n(\"Option\",{attrs:{value:\"1\"}},[t._v(\"公司员工\")])],1)],1),n(\"Form-item\",{attrs:{label:\"用户状态\",prop:\"status\"}},[n(\"Select\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"请选择\",clearable:\"\"},model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,\"status\",e)},expression:\"searchForm.status\"}},[n(\"Option\",{attrs:{value:\"1\"}},[t._v(\"审核通过\")]),n(\"Option\",{attrs:{value:\"2\"}},[t._v(\"已激活\")]),n(\"Option\",{attrs:{value:\"8\"}},[t._v(\"工作中\")]),n(\"Option\",{attrs:{value:\"9\"}},[t._v(\"休息中\")])],1)],1),n(\"Form-item\",{attrs:{label:\"创建时间\"}},[n(\"DatePicker\",{staticStyle:{width:\"200px\"},attrs:{type:\"daterange\",format:\"yyyy-MM-dd\",clearable:\"\",placeholder:\"选择起始时间\"},on:{\"on-change\":t.selectDateRange},model:{value:t.selectDate,callback:function(e){t.selectDate=e},expression:\"selectDate\"}})],1)],1):t._e(),n(\"Form-item\",{staticClass:\"br\",staticStyle:{\"margin-left\":\"-35px\"}},[n(\"Button\",{attrs:{type:\"primary\",icon:\"ios-search\"},on:{click:t.handleSearch}},[t._v(\"搜索\")]),n(\"Button\",{on:{click:t.handleReset}},[t._v(\"重置\")]),n(\"a\",{staticClass:\"drop-down\",on:{click:t.dropDown}},[t._v(\"\\n                \"+t._s(t.dropDownContent)+\"\\n                \"),n(\"Icon\",{attrs:{type:t.dropDownIcon}})],1)],1)],1)],1),n(\"Row\",{staticClass:\"operation\"},[n(\"Button\",{attrs:{type:\"primary\",icon:\"md-add\"},on:{click:t.add}},[t._v(\"添加回收人员\")]),n(\"Button\",{attrs:{icon:\"md-trash\"},on:{click:t.delAll}},[t._v(\"批量删除\")]),t.operationLoading?n(\"circleLoading\"):t._e()],1),n(\"Row\",[n(\"Alert\",{attrs:{\"show-icon\":\"\"}},[t._v(\"\\n            已选择\\n            \"),n(\"span\",{staticClass:\"select-count\"},[t._v(t._s(t.selectCount))]),t._v(\" 项\\n            \"),n(\"a\",{staticClass:\"select-clear\",on:{click:t.clearSelectAll}},[t._v(\"清空\")])])],1),n(\"Row\",[n(\"Table\",{ref:\"table\",attrs:{loading:t.loading,border:\"\",columns:t.columns,data:t.data,sortable:\"custom\"},on:{\"on-sort-change\":t.changeSort,\"on-selection-change\":t.showSelect}}),n(\"Table\",{ref:\"exportTable\",staticStyle:{display:\"none\"},attrs:{columns:t.exportColumns,data:t.exportData}})],1),n(\"Row\",{staticClass:\"page\",attrs:{type:\"flex\",justify:\"end\"}},[n(\"Page\",{attrs:{current:t.searchForm.pageNumber,total:t.total,\"page-size\":t.searchForm.pageSize,\"page-size-opts\":[10,20,50],size:\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":t.changePage,\"on-page-size-change\":t.changePageSize}})],1)],1)],1)],1),n(\"Modal\",{attrs:{title:t.modalTitle,\"mask-closable\":!1,width:500,styles:{top:\"30px\"}},model:{value:t.userModalVisible,callback:function(e){t.userModalVisible=e},expression:\"userModalVisible\"}},[n(\"Form\",{ref:\"userForm\",attrs:{model:t.userForm,\"label-width\":70,rules:t.userFormValidate}},[n(\"FormItem\",{attrs:{label:\"姓名\",prop:\"name\"}},[n(\"Input\",{attrs:{autocomplete:\"off\",readonly:1==t.modalType},model:{value:t.userForm.name,callback:function(e){t.$set(t.userForm,\"name\",e)},expression:\"userForm.name\"}})],1),n(\"FormItem\",{attrs:{label:\"手机号\",prop:\"phone\"}},[n(\"Input\",{model:{value:t.userForm.phone,callback:function(e){t.$set(t.userForm,\"phone\",e)},expression:\"userForm.phone\"}})],1),n(\"FormItem\",{attrs:{label:\"身份证号\",prop:\"idCard\"}},[n(\"Input\",{model:{value:t.userForm.idCard,callback:function(e){t.$set(t.userForm,\"idCard\",e)},expression:\"userForm.idCard\"}})],1),n(\"FormItem\",{attrs:{label:\"地址\",prop:\"address\"}},[n(\"Poptip\",{attrs:{trigger:\"focus\",title:\"提示\"}},[n(\"Input\",{model:{value:t.userForm.address,callback:function(e){t.$set(t.userForm,\"address\",e)},expression:\"userForm.address\"}}),n(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[n(\"Button\",{attrs:{type:\"primary\"},on:{click:t.handlerMap}},[t._v(\"选择地址\")])],1)],1)],1),n(\"FormItem\",{attrs:{label:\"经度\",prop:\"longitude\"}},[n(\"Input\",{model:{value:t.userForm.longitude,callback:function(e){t.$set(t.userForm,\"longitude\",e)},expression:\"userForm.longitude\"}})],1),n(\"FormItem\",{attrs:{label:\"纬度\",prop:\"latitude\"}},[n(\"Input\",{model:{value:t.userForm.latitude,callback:function(e){t.$set(t.userForm,\"latitude\",e)},expression:\"userForm.latitude\"}})],1),n(\"FormItem\",{attrs:{label:\"押金\",prop:\"deposit\"}},[n(\"Input\",{model:{value:t.userForm.deposit,callback:function(e){t.$set(t.userForm,\"deposit\",e)},expression:\"userForm.deposit\"}})],1),n(\"Form-item\",{attrs:{label:\"身份证正面照\",prop:\"positiveImgUrl\"}},[n(\"upload-pic-input\",{ref:\"upload\",attrs:{width:\"285px\"},on:{\"on-change\":t.handleUpload}})],1),n(\"Form-item\",{attrs:{label:\"身份证反面照\",prop:\"reverseImgUrl\"}},[n(\"upload-pic-input\",{ref:\"upload1\",attrs:{width:\"285px\"},on:{\"on-change\":t.handleUploadTwo}})],1),n(\"FormItem\",{attrs:{label:\"用户类型\",prop:\"type\"}},[n(\"Select\",{attrs:{placeholder:\"请选择\"},model:{value:t.userForm.type,callback:function(e){t.$set(t.userForm,\"type\",e)},expression:\"userForm.type\"}},[n(\"Option\",{attrs:{value:\"0\"}},[t._v(\"社会回收人员\")]),n(\"Option\",{attrs:{value:\"1\"}},[t._v(\"公司员工\")])],1)],1),n(\"FormItem\",{attrs:{label:\"状态\",prop:\"status\"}},[n(\"Poptip\",{attrs:{trigger:\"hover\",disabled:0==t.modalType,title:\"提示\",content:\"只有登录过回收端小程序的人员才能修改为工作状态或者休息状态\"}},[n(\"Select\",{attrs:{placeholder:\"请选择\",width:\"200px\"},model:{value:t.userForm.status,callback:function(e){t.$set(t.userForm,\"status\",e)},expression:\"userForm.status\"}},[n(\"Option\",{attrs:{value:\"1\"}},[t._v(\"审核通过\")]),n(\"Option\",{attrs:{value:\"3\"}},[t._v(\"已激活\")]),n(\"Option\",{attrs:{value:\"8\",hidden:0==t.modalType||null==this.openId}},[t._v(\"工作中\")]),n(\"Option\",{attrs:{value:\"9\",hidden:0==t.modalType||null==this.openId}},[t._v(\"休息中\")])],1)],1)],1)],1),n(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"Button\",{attrs:{type:\"text\"},on:{click:t.cancelUser}},[t._v(\"取消\")]),n(\"Button\",{attrs:{type:\"primary\",loading:t.submitLoading},on:{click:t.submitUser}},[t._v(\"提交\")])],1)],1),n(\"Modal\",{attrs:{title:\"确认导出\",loading:t.loadingExport},on:{\"on-ok\":t.exportAll},model:{value:t.modalExportAll,callback:function(e){t.modalExportAll=e},expression:\"modalExportAll\"}},[n(\"p\",[t._v(\"您确认要导出全部 \"+t._s(t.total)+\" 条数据？\")])]),n(\"Modal\",{attrs:{fullscreen:\"\",title:\"地理位置\",\"footer-hide\":\"\",loading:!0},model:{value:t.modalMap,callback:function(e){t.modalMap=e},expression:\"modalMap\"}},[t.modalMap?n(\"vue-map\",{on:{selected:t.getCoordinate}}):t._e()],1),n(\"Drawer\",{attrs:{closable:!1,width:\"600\"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:\"drawer\"}},[n(\"Modal\",{style:{top:\"30px\"},attrs:{width:600},model:{value:t.imgModal,callback:function(e){t.imgModal=e},expression:\"imgModal\"}},[n(\"div\",{attrs:{width:\"100%\"}},[n(\"img\",{attrs:{src:t.bigImgUrl,width:\"100%\",height:\"100%\"},on:{click:function(e){return t.watchBigImg(null)}}})])]),n(\"p\",{staticStyle:{\"font-size\":\"22px\",\"font-weight\":\"bold\"}},[n(\"Icon\",{attrs:{type:\"ios-contact\",size:\"25\"}}),t._v(\" 用户详情\")],1),n(\"div\",{staticClass:\"demo-drawer-profile\"},[n(\"Divider\",{staticStyle:{\"font-size\":\"17px\",\"font-family\":\"Pingfang SC\"}},[t._v(\"基本信息\")]),n(\"Row\",[n(\"Col\",{staticStyle:{\"font-size\":\"15px\",\"font-weight\":\"bold\"},attrs:{span:\"12\"}},[n(\"Icon\",{attrs:{type:\"md-man\",size:\"25\"}}),t._v(\" 姓名: \"+t._s(t.showInfo.name)+\"\\n                  \")],1)],1),n(\"Row\",[n(\"Col\",{staticStyle:{\"font-size\":\"15px\",\"font-weight\":\"bold\"},attrs:{span:\"12\"}},[n(\"Icon\",{attrs:{type:\"ios-call\",size:\"25\"}}),t._v(\" 手机号: \"+t._s(t.showInfo.phone)+\"\\n                  \")],1)],1),n(\"Row\",[n(\"Col\",{staticStyle:{\"font-size\":\"15px\",\"font-weight\":\"bold\"},attrs:{span:\"12\"}},[n(\"Icon\",{attrs:{type:\"md-contacts\",size:\"25\"}}),t._v(\" 用户类型: \"+t._s(t.type)+\"\\n                  \")],1)],1),n(\"Row\",[n(\"Col\",{staticStyle:{\"font-size\":\"15px\",\"font-weight\":\"bold\"},attrs:{span:\"12\"}},[n(\"Icon\",{attrs:{type:\"ios-book\",size:\"25\"}}),t._v(\" 身份证号码: \"+t._s(t.showInfo.idCard)+\"\\n                  \")],1)],1),n(\"Row\",[n(\"Col\",{staticStyle:{\"font-size\":\"15px\",\"font-weight\":\"bold\"},attrs:{span:\"50\"}},[n(\"Icon\",{attrs:{type:\"ios-home\",size:\"25\"}}),t._v(\" 地址: \"+t._s(t.showInfo.address)+\"\\n                  \")],1)],1),n(\"Row\",[n(\"Col\",{staticStyle:{\"font-size\":\"15px\",\"font-weight\":\"bold\"},attrs:{span:\"12\"}},[n(\"Icon\",{attrs:{type:\"ios-switch\",size:\"25\"}}),t._v(\" 用户状态: \"+t._s(t.status)+\"\\n                      \")],1)],1),n(\"Row\",[n(\"Divider\",{staticStyle:{\"font-size\":\"17px\"}},[t._v(\"身份证照片\")])],1),n(\"Poptip\",{attrs:{trigger:\"hover\",title:\"提示\",content:\"点击可查看大图\"}},[n(\"img\",{attrs:{src:t.showInfo.positiveImgUrl,width:\"180px\",height:\"180px\"},on:{click:function(e){return t.watchBigImg(t.showInfo.positiveImgUrl)}}})]),n(\"Poptip\",{attrs:{trigger:\"hover\",title:\"提示\",content:\"点击可查看大图\"}},[n(\"img\",{attrs:{src:t.showInfo.reverseImgUrl,width:\"180px\",height:\"180px\"},on:{click:function(e){return t.watchBigImg(t.showInfo.reverseImgUrl)}}})])],1)],1),n(\"Modal\",{attrs:{title:\"查看大图\"},model:{value:t.visible,callback:function(e){t.visible=e},expression:\"visible\"}},[t.visible?n(\"img\",{staticStyle:{width:\"100%\"},attrs:{src:t.imgUrl}}):t._e()])],1)},a=[],s=n(\"f3a4\"),i=n(\"365c\"),o=n(\"97de\"),l=n(\"59ec\"),c=n(\"dd85\"),d=n(\"dffa\"),u=n(\"33f4\"),p={name:\"user-manage\",components:{circleLoading:u[\"default\"],expandRow:o[\"default\"],departmentChoose:l[\"default\"],departmentTreeChoose:c[\"default\"],uploadPicInput:d[\"default\"]},data:function(){var t=this,e=function(e,n,r){0===t.modalType||1===t.modalType&&t.oldPhone!=t.userForm.phone?Object(s[\"l\"])({phone:t.userForm.phone}).then(function(t){!0===t.success?r(new Error(\"该号码已被注册\")):!1===t.success?r():r(new Error(\"手机号不能为空\"))}):r()},r=function(t,e,n){null==e||void 0==e||\"\"===e?n(new Error(\"必填项不能为空\")):n()},a=function(t,e,n){var r=/^(\\-|\\+)?(((\\d|[1-9]\\d|1[0-7]\\d|0{1,3})\\.\\d{0,6})|(\\d|[1-9]\\d|1[0-7]\\d|0{1,3})|180\\.0{0,6}|180)$/;r.test(e)?n():n(new Error(\"经度整数部分为0-180,小数部分为0到6位!\"))},i=function(t,e,n){var r=/^(\\-|\\+)?([0-8]?\\d{1}\\.\\d{0,6}|90\\.0{0,6}|[0-8]?\\d{1}|90)$/;r.test(e)?n():n(new Error(\"纬度整数部分为0-90,小数部分为0到6位!\"))},l=function(t,e,n){e&&(!/\\d{17}[\\d|x]|\\d{15}/.test(e)||15!==e.length&&18!==e.length)?n(new Error(\"身份证号码不符合规范\")):n()},c=function(t,e,n){var r=/^[1][3,4,5,7,8][0-9]{9}$/;r.test(e)?n():n(new Error(\"手机号格式错误\"))},d=function(t,e,n){var r=/^$|^(0|\\+?[1-9][0-9]*)$/;r.test(e)?n():n(new Error(\"请输入整数金额\"))};return{openId:\"\",imgUrl:\"\",visible:!1,imgModal:!1,bigImgUrl:null,showInfo:[],drawer:!1,pStyle:{fontSize:\"16px\",color:\"rgba(0,0,0,0.85)\",lineHeight:\"24px\",display:\"block\",marginBottom:\"16px\"},modalMap:!1,loading:!0,operationLoading:!1,loadingExport:!0,modalExportAll:!1,drop:!1,oldPhone:\"\",dropDownContent:\"展开\",dropDownIcon:\"ios-arrow-down\",selectCount:0,selectList:[],dataDep:[],searchKey:\"\",searchForm:{name:\"\",phone:\"\",type:\"\",status:\"\",pageNumber:1,pageSize:10,sort:\"createTime\",order:\"desc\",startDate:\"\",endDate:\"\"},selectDate:null,modalType:0,modalBoolean:!1,userModalVisible:!1,modalTitle:\"\",userForm:{longitude:\"\",latitude:\"\",name:\"\",phone:\"\",idCard:\"\",positiveImgUrl:\"\",reverseImgUrl:\"\",address:\"\",deposit:\"\",type:\"\",status:\"\"},userRoles:[],roleList:[],errorPass:\"\",userFormValidate:{type:[{required:!0,message:\"人员类型不能为空\"},{validator:r,trigger:\"change\"}],name:[{required:!0,message:\"姓名不能为空\",trigger:\"blur\"}],phone:[{required:!0,message:\"手机号不能为空\",trigger:\"blur\"},{validator:c,trigger:\"blur\"},{validator:e,trigger:\"blur\"}],idCard:[{required:!0,message:\"身份证号码不能为空\",trigger:\"blur\"},{validator:l,trigger:\"blur\"}],deposit:[{required:!1},{validator:d}],status:[{required:!0,message:\"状态不能为空\"},{validator:r,trigger:\"change\"}],address:[{required:!0,message:\"地址不能为空\",trigger:\"change\"}],longitude:[{required:!0,message:\"经度不能为空\",trigger:\"blur\"},{validator:a,trigger:\"blur\"}],latitude:[{required:!0,message:\"纬度不能为空\",trigger:\"blur\"},{validator:i,trigger:\"blur\"}]},submitLoading:!1,columns:[{type:\"selection\",width:60,align:\"center\",fixed:\"left\"},{type:\"expand\",width:50,fixed:\"left\",render:function(t,e){return t(o[\"default\"],{props:{row:e.row}})}},{type:\"index\",width:80,align:\"center\",fixed:\"left\",title:\"序号\"},{title:\"姓名\",key:\"name\",minWidth:100,fixed:\"left\"},{title:\"状态\",key:\"status\",align:\"center\",minWidth:140,render:function(t,e){return 1===e.row.status?t(\"div\",[t(\"Tag\",{props:{type:\"dot\",color:\"warning\"}},\"审核通过\")]):3===e.row.status?t(\"div\",[t(\"Tag\",{props:{type:\"dot\",color:\"info\"}},\"已激活\")]):8===e.row.status?t(\"div\",[t(\"Tag\",{props:{type:\"dot\",color:\"success\"}},\"工作中\")]):9===e.row.status?t(\"div\",[t(\"Tag\",{props:{type:\"dot\",color:\"primary\"}},\"休息中\")]):void 0},filters:[{label:\"审核通过\",value:1},{label:\"已激活\",value:3},{label:\"工作中\",value:8},{label:\"休息\",value:9}],filterMultiple:!1,filterMethod:function(t,e){return 1===t?1===e.status:3===t?3===e.status:8===t?8===e.status:9===t?9===e.status:void 0}},{title:\"用户类型\",key:\"type\",align:\"center\",minWidth:100,render:function(t,e){var n=\"\";return 1===e.row.type?n=\"公司员工\":0===e.row.type&&(n=\"社会回收人员\"),t(\"div\",n)}},{title:\"创建时间\",key:\"createTime\",sortable:!0,sortType:\"desc\",minWidth:150},{title:\"身份证正面照片\",key:\"positiveImgUrl\",minWidth:150,align:\"center\",render:function(e,r){var a=r.row.positiveImgUrl?r.row.positiveImgUrl:n(\"113c\");return e(\"img\",{attrs:{src:a,width:\"100px\",height:\"100px\",title:\"点击可查看大图\",alt:\"图片不存在\"},on:{click:function(e){t.handleView(e.srcElement.currentSrc)}}})}},{title:\"身份证反面照片\",key:\"reverseImgUrl\",minWidth:150,align:\"center\",render:function(e,r){var a=r.row.reverseImgUrl?r.row.reverseImgUrl:n(\"113c\");return e(\"img\",{attrs:{src:a,width:\"100px\",height:\"100px\",title:\"点击可查看大图\",alt:\"图片不存在\"},on:{click:function(e){t.handleView(e.srcElement.currentSrc)}}})}},{title:\"手机\",key:\"phone\",minWidth:115,sortable:!0},{title:\"身份证号\",key:\"idCard\",minWidth:180,sortable:!0},{title:\"地址\",key:\"address\",minWidth:180},{title:\"押金\",key:\"deposit\",minWidth:100,sortable:!0},{title:\"操作\",key:\"action\",minWidth:200,align:\"center\",fixed:\"right\",render:function(e,n){return 0==n.row.status?e(\"Button\",{props:{size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(){t.disable(n.row)}}},\"禁用\"):e(\"Button\",{props:{type:\"success\",size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(){t.enable(n.row)}}},\"启用\"),e(\"div\",[e(\"Button\",{props:{type:\"info\",size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(){t.show(n.row)}}},\"基本信息\"),e(\"Button\",{props:{type:\"primary\",size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(){t.findOpenId(n.row),t.oldPhone=n.row.phone,t.edit(n.row)}}},\"编辑\"),e(\"Button\",{props:{type:\"error\",size:\"small\"},on:{click:function(){t.remove(n.row)}}},\"删除\")])}}],exportColumns:[{title:\"用户名\",key:\"username\"},{title:\"头像\",key:\"avatar\"},{title:\"所属部门ID\",key:\"departmentId\"},{title:\"所属部门\",key:\"departmentTitle\"},{title:\"手机\",key:\"mobile\"},{title:\"邮箱\",key:\"email\"},{title:\"性别\",key:\"sex\"},{title:\"用户类型\",key:\"type\"},{title:\"状态\",key:\"status\"},{title:\"删除标志\",key:\"delFlag\"},{title:\"创建时间\",key:\"createTime\"},{title:\"更新时间\",key:\"updateTime\"}],data:[],exportData:[],total:0,dictSex:[]}},computed:{type:function(){return 0==this.showInfo.type?\"社会回收人员\":1==this.showInfo.type?\"公司员工\":void 0},status:function(){return 1==this.showInfo.status?\"审核通过\":3==this.showInfo.status?\"已激活\":8==this.showInfo.status?\"工作中\":9==this.showInfo.status?\"休息中\":void 0}},methods:{watchBigImg:function(t){this.imgModal=!this.imgModal,this.bigImgUrl=t},init:function(){this.getUserList(),this.getDictSexData()},handlerMap:function(){this.modalMap=!0},handleView:function(t){this.imgUrl=t,this.visible=!0},getDictSexData:function(){var t=this;Object(i[\"S\"])(\"sex\").then(function(e){e.success&&(t.dictSex=e.result)})},handleSelectDepTree:function(t){this.userForm.departmentId=t[0]},handleSelectDep:function(t){this.searchForm.departmentId=t},changePage:function(t){this.searchForm.pageNumber=t,this.getUserList(),this.clearSelectAll()},changePageSize:function(t){this.searchForm.pageSize=t,this.getUserList()},selectDateRange:function(t){t&&(this.searchForm.startDate=t[0],this.searchForm.endDate=t[1])},getUserList:function(){var t=this;this.loading=!0,Object(s[\"g\"])(this.searchForm).then(function(e){t.loading=!1,!0===e.success&&(t.data=e.result.content,t.total=e.result.totalElements)})},handleSearch:function(){this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getUserList()},handleReset:function(){this.$refs.searchForm.resetFields(),this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.selectDate=null,this.searchForm.startDate=\"\",this.searchForm.endDate=\"\",this.selectDep=[],this.searchForm.departmentId=\"\",this.getUserList()},changeSort:function(t){this.searchForm.sort=t.key,this.searchForm.order=t.order,\"normal\"===t.order&&(this.searchForm.order=\"\"),this.getUserList()},getRoleList:function(){var t=this;Object(i[\"P\"])().then(function(e){!0===e.success&&(t.roleList=e.result)})},handleDropdown:function(t){var e=this;if(\"refresh\"===t)this.getUserList();else if(\"exportData\"===t){if(this.selectCount<=0)return void this.$Message.warning(\"您还未选择要导出的数据\");this.$Modal.confirm({title:\"确认导出\",content:\"您确认要导出所选 \"+this.selectCount+\" 条数据?\",onOk:function(){e.$refs.exportTable.exportCsv({filename:\"用户数据\"})}})}else\"exportAll\"===t?this.modalExportAll=!0:\"importData\"===t&&this.$Modal.info({title:\"暂未开发\",content:\"请期待\"})},exportAll:function(){var t=this;Object(i[\"Q\"])().then(function(e){t.modalExportAll=!1,e.success&&(t.exportData=e.result,setTimeout(function(){t.$refs.exportTable.exportCsv({filename:\"用户全部数据\"})},1e3))})},cancelUser:function(){this.userModalVisible=!1},submitUser:function(){var t=this;this.$refs.userForm.validate(function(e){e&&(0===t.modalType?(delete t.userForm.id,t.submitLoading=!0,Object(s[\"a\"])(t.userForm).then(function(e){t.submitLoading=!1,!0===e.success&&(t.$Message.success(\"操作成功\"),t.getUserList(),t.userModalVisible=!1)})):(t.submitLoading=!0,Object(s[\"e\"])(t.userForm).then(function(e){t.submitLoading=!1,!0===e.success&&(t.$Message.success(\"操作成功\"),t.getUserList(),t.userModalVisible=!1)})))})},handleUpload:function(t){this.userForm.positiveImgUrl=t},handleUploadTwo:function(t){this.userForm.reverseImgUrl=t},add:function(){this.modalType=0,this.modalTitle=\"添加回收人员\",this.$refs.userForm.resetFields(),this.userModalVisible=!0},findOpenId:function(t){var e=this;Object(s[\"k\"])(t.id).then(function(t){!0===t.success&&(e.openId=t.result.openId)})},edit:function(t){for(var e in this.modalType=1,this.modalBoolean=!0,this.modalTitle=\"编辑用户\",this.$refs.userForm.resetFields(),t)null===t[e]&&(t[e]=\"\");var n=JSON.stringify(t),r=JSON.parse(n);r.longitude=String(r.longitude),r.latitude=String(r.latitude),r.type=String(r.type),r.status=String(r.status),this.userForm=r,this.$refs.upload.setPicUrl(r.positiveImgUrl),this.$refs.upload1.setPicUrl(r.reverseImgUrl),this.userModalVisible=!0},enable:function(t){var e=this;this.$Modal.confirm({title:\"确认启用\",content:\"您确认要启用用户 \"+t.name+\" ?\",onOk:function(){e.operationLoading=!0,Object(i[\"L\"])(t.id).then(function(t){e.operationLoading=!1,!0===t.success&&(e.$Message.success(\"操作成功\"),e.getUserList())})}})},disable:function(t){var e=this;this.$Modal.confirm({title:\"确认禁用\",content:\"您确认要禁用用户 \"+t.name+\" ?\",onOk:function(){e.operationLoading=!0,Object(i[\"y\"])(t.id).then(function(t){e.operationLoading=!1,!0===t.success&&(e.$Message.success(\"操作成功\"),e.getUserList())})}})},remove:function(t){var e=this;this.$Modal.confirm({title:\"确认删除\",content:\"您确认要删除用户 \"+t.name+\" ?\",onOk:function(){e.operationLoading=!0,Object(s[\"d\"])(t.id).then(function(t){e.operationLoading=!1,!0===t.success&&(e.$Message.success(\"删除成功\"),e.getUserList())})}})},show:function(t){this.drawer=!0,this.showInfo=t},dropDown:function(){this.drop?(this.dropDownContent=\"展开\",this.dropDownIcon=\"ios-arrow-down\"):(this.dropDownContent=\"收起\",this.dropDownIcon=\"ios-arrow-up\"),this.drop=!this.drop},showSelect:function(t){this.exportData=t,this.selectList=t,this.selectCount=t.length},clearSelectAll:function(){this.$refs.table.selectAll(!1)},delAll:function(){var t=this;this.selectCount<=0?this.$Message.warning(\"您还未选择要删除的数据\"):this.$Modal.confirm({title:\"确认删除\",content:\"您确认要删除所选的 \"+this.selectCount+\" 条数据?\",onOk:function(){var e=\"\";t.selectList.forEach(function(t){e+=t.id+\",\"}),e=e.substring(0,e.length-1),t.operationLoading=!0,Object(s[\"d\"])(e).then(function(e){t.operationLoading=!1,!0===e.success&&(t.$Message.success(\"删除成功\"),t.clearSelectAll(),t.getUserList())})}})},getCoordinate:function(t){this.userForm.longitude=String(t.longitude),this.userForm.latitude=String(t.latitude),this.userForm.address=t.address,this.modalMap=!1}},mounted:function(){this.init(),this.getRoleList()}},h=p,m=(n(\"783a\"),n(\"fa92\"),n(\"2877\")),f=Object(m[\"a\"])(h,r,a,!1,null,null,null);e[\"default\"]=f.exports},\"765f\":function(t,e,n){},\"783a\":function(t,e,n){\"use strict\";var r=n(\"c681\"),a=n.n(r);a.a},\"97de\":function(t,e,n){\"use strict\";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"Row\",{staticClass:\"expand-row\"},[n(\"Col\",{attrs:{span:\"5\"}},[n(\"span\",[t._v(\"更新者: \")]),n(\"span\",[t._v(t._s(t.row.updateBy))])]),n(\"Col\",{attrs:{span:\"6\"}},[n(\"span\",[t._v(\"创建者: \")]),n(\"span\",[t._v(t._s(t.row.createBy))])]),n(\"Col\",{attrs:{span:\"6\"}},[n(\"span\",[t._v(\"编号: \")]),n(\"span\",[t._v(t._s(t.row.id))])])],1)],1)},a=[],s={name:\"expandRow\",props:{row:Object}},i=s,o=(n(\"a47e\"),n(\"2877\")),l=Object(o[\"a\"])(i,r,a,!1,null,\"4b733616\",null);e[\"default\"]=l.exports},\"9d93\":function(t,e,n){},a47e:function(t,e,n){\"use strict\";var r=n(\"1a5e\"),a=n.n(r);a.a},ab57:function(t,e,n){},c681:function(t,e,n){},dd85:function(t,e,n){\"use strict\";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"Poptip\",{attrs:{trigger:\"click\",placement:\"right\",title:\"选择部门\",width:\"250\"}},[n(\"div\",{staticStyle:{display:\"flex\"}},[n(\"Input\",{staticStyle:{\"margin-right\":\"10px\"},style:{width:t.width},attrs:{readonly:\"\",placeholder:t.placeholder},model:{value:t.departmentTitle,callback:function(e){t.departmentTitle=e},expression:\"departmentTitle\"}}),n(\"Button\",{attrs:{icon:\"md-trash\"},on:{click:t.clearSelect}},[t._v(\"清空已选\")])],1),n(\"div\",{staticClass:\"tree-bar\",attrs:{slot:\"content\"},slot:\"content\"},[n(\"Input\",{attrs:{suffix:\"ios-search\",placeholder:\"输入部门名搜索\",clearable:\"\"},on:{\"on-change\":t.searchDep},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:\"searchKey\"}}),n(\"Tree\",{attrs:{data:t.dataDep,\"load-data\":t.loadData,multiple:t.multiple},on:{\"on-select-change\":t.selectTree}}),t.depLoading?n(\"Spin\",{attrs:{size:\"large\",fix:\"\"}}):t._e()],1)])],1)},a=[],s=n(\"365c\"),i={name:\"departmentTreeChoose\",props:{multiple:{type:Boolean,default:!1},width:{type:String,default:\"200px\"},placeholder:{type:String,default:\"点击选择部门\"}},data:function(){return{depLoading:!1,departmentTitle:\"\",searchKey:\"\",dataDep:[],selectDep:[],department:[]}},methods:{initDepartmentData:function(){var t=this;Object(s[\"gb\"])().then(function(e){!0===e.success&&(e.result.forEach(function(t){t.isParent&&(t.loading=!1,t.children=[]),-1===t.status&&(t.title=\"[已禁用] \"+t.title,t.disabled=!0)}),t.dataDep=e.result)})},loadData:function(t,e){Object(s[\"hb\"])(t.id).then(function(t){!0===t.success&&(t.result.forEach(function(t){t.isParent&&(t.loading=!1,t.children=[]),-1===t.status&&(t.title=\"[已禁用] \"+t.title,t.disabled=!0)}),e(t.result))})},searchDep:function(){var t=this;this.searchKey?(this.depLoading=!0,Object(s[\"ob\"])({title:this.searchKey}).then(function(e){t.depLoading=!1,e.success&&(e.result.forEach(function(t){-1===t.status&&(t.title=\"[已禁用] \"+t.title,t.disabled=!0)}),t.dataDep=e.result)})):this.initDepartmentData()},selectTree:function(t){var e=[],n=\"\";t.forEach(function(t){e.push(t.id),n=\"\"==n?t.title:n+\"、\"+t.title}),this.departmentId=e,this.departmentTitle=n,this.$emit(\"on-change\",this.departmentId)},clearSelect:function(){this.departmentId=[],this.departmentTitle=\"\",this.initDepartmentData(),this.$emit(\"on-change\",this.departmentId)},setSelectDep:function(t,e){this.departmentId=t,this.departmentTitle=e,this.$emit(\"on-change\",this.departmentId)}},created:function(){this.initDepartmentData()}},o=i,l=(n(\"1dbc\"),n(\"2877\")),c=Object(l[\"a\"])(o,r,a,!1,null,null,null);e[\"default\"]=c.exports},dffa:function(t,e,n){\"use strict\";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"Poptip\",{attrs:{trigger:\"hover\",title:\"图片预览\",placement:\"right\",width:\"350\"}},[n(\"Input\",{style:{width:t.width},attrs:{placeholder:\"可直接填入网络图片链接\",clearable:\"\"},on:{\"on-change\":t.handleChange},model:{value:t.picUrl,callback:function(e){t.picUrl=e},expression:\"picUrl\"}}),n(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[n(\"img\",{staticStyle:{width:\"100%\",margin:\"0 auto\",display:\"block\"},attrs:{src:t.picUrl,alt:\"暂无图片链接\"}}),n(\"a\",{staticStyle:{\"margin-top\":\"5px\",\"text-align\":\"right\",display:\"block\"},on:{click:function(e){t.viewImage=!0}}},[t._v(\"查看大图\")])])],1),n(\"Upload\",{ref:\"up\",staticClass:\"upload\",attrs:{action:t.uploadFileUrl,headers:t.accessToken,\"on-success\":t.handleSuccess,\"on-error\":t.handleError,format:[\"jpg\",\"jpeg\",\"png\",\"gif\",\"bmp\"],accept:\".jpg, .jpeg, .png, .gif, .bmp\",\"max-size\":5120,\"on-format-error\":t.handleFormatError,\"on-exceeded-size\":t.handleMaxSize,\"before-upload\":t.beforeUpload,\"show-upload-list\":!1}},[n(\"Button\",{attrs:{loading:t.loading,icon:\"ios-cloud-upload-outline\"}},[t._v(\"上传图片\")])],1),n(\"Modal\",{attrs:{title:\"图片预览\",styles:{top:\"30px\"},draggable:\"\"},model:{value:t.viewImage,callback:function(e){t.viewImage=e},expression:\"viewImage\"}},[n(\"img\",{staticStyle:{width:\"100%\",margin:\"0 auto\",display:\"block\"},attrs:{src:t.picUrl,alt:\"暂无图片链接\"}}),n(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"Button\",{on:{click:function(e){t.viewImage=!1}}},[t._v(\"关闭\")])],1)])],1)},a=[],s=n(\"365c\"),i={name:\"uploadPicInput\",props:{width:{type:String,default:\"200px\"}},data:function(){return{accessToken:{},picUrl:\"\",loading:!1,viewImage:!1,uploadFileUrl:s[\"tb\"]}},methods:{init:function(){this.accessToken={accessToken:this.getStore(\"accessToken\")}},handleFormatError:function(t){this.loading=!1,this.$Notice.warning({title:\"不支持的文件格式\",desc:\"所选文件‘ \"+t.name+\" ’格式不正确, 请选择 .jpg .jpeg .png .gif .bmp格式文件\"})},handleMaxSize:function(t){this.loading=!1,this.$Notice.warning({title:\"文件大小过大\",desc:\"所选文件‘ \"+t.name+\" ’大小过大, 不得超过 5M.\"})},beforeUpload:function(){return this.loading=!0,!0},handleSuccess:function(t,e){this.loading=!1,!0===t.success?(e.url=t.result,this.picUrl=t.result,this.$emit(\"on-change\",this.picUrl)):this.$Message.error(t.message)},handleError:function(t,e,n){this.loading=!1,this.$Message.error(e.message)},handleChange:function(t){this.$emit(\"on-change\",this.picUrl)},setPicUrl:function(t){this.picUrl=t,this.$emit(\"on-change\",this.picUrl)}},created:function(){this.init()}},o=i,l=(n(\"f57e\"),n(\"2877\")),c=Object(l[\"a\"])(o,r,a,!1,null,null,null);e[\"default\"]=c.exports},f3a4:function(t,e,n){\"use strict\";n.d(e,\"g\",function(){return a}),n.d(e,\"a\",function(){return s}),n.d(e,\"e\",function(){return i}),n.d(e,\"d\",function(){return o}),n.d(e,\"l\",function(){return l}),n.d(e,\"h\",function(){return c}),n.d(e,\"f\",function(){return d}),n.d(e,\"i\",function(){return u}),n.d(e,\"j\",function(){return p}),n.d(e,\"k\",function(){return h}),n.d(e,\"c\",function(){return m}),n.d(e,\"b\",function(){return f});var r=n(\"7f80\"),a=function(t){return Object(r[\"b\"])(\"/recyclingPersonnel/getByCondition\",t)},s=function(t){return Object(r[\"c\"])(\"/recyclingPersonnel/addPersonToRedis\",t)},i=function(t){return Object(r[\"d\"])(\"/recyclingPersonnel/editPersonToRedis\",t)},o=function(t,e){return Object(r[\"a\"])(\"/recyclingPersonnel/removeByIdsTwo/\".concat(t),e)},l=function(t){return Object(r[\"b\"])(\"/recyclingPersonnel/getByPhone\",t)},c=function(t){return Object(r[\"b\"])(\"/wechatUser/getWechatUser\",t)},d=function(t){return Object(r[\"d\"])(\"/wechatUser/editWechatUser\",t)},u=function(t){return Object(r[\"b\"])(\"/wechatUser/selectByPhoneAndClientType\",t)},p=function(t){return Object(r[\"b\"])(\"/recyclingPersonnel/getVerifyPerson\",t)},h=function(t){return Object(r[\"b\"])(\"/recyclingPersonnel/get/\".concat(t))},m=function(t,e,n){return Object(r[\"b\"])(\"/recyclingPersonnel/changeStatusToPass/\".concat(t,\"/\").concat(e,\"/\").concat(n))},f=function(t,e,n,a){return Object(r[\"b\"])(\"/recyclingPersonnel/changeStatusToFaild/\".concat(t,\"/\").concat(e,\"/\").concat(n,\"/\").concat(a))}},f57e:function(t,e,n){\"use strict\";var r=n(\"1b13\"),a=n.n(r);a.a},fa92:function(t,e,n){\"use strict\";var r=n(\"765f\"),a=n.n(r);a.a}}]);","extractedComments":[]}